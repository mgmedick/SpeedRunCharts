(()=>{var e,a={7644:(e,a,t)=>{"use strict";var l=t(5166),s=t(1421),o=t(9179),i=t(7309);const r=(0,l.HX)("data-v-08649203")(((e,a,t,s,o,i)=>((0,l.wg)(),(0,l.j4)("div",{class:["dropdown",{show:o.state}],onClick:a[1]||(a[1]=(...e)=>i.toggleDropdown&&i.toggleDropdown(...e))},[(0,l.Wm)("button",{class:["btn dropdown-toggle",t.btnclasses],type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",ref:"btn"},[(0,l.WI)(e.$slots,"text",{},void 0,!0)],2),(0,l.Wm)("div",{class:["dropdown-menu",[t.listclasses]],"aria-labelledby":"dropdownMenuButton",ref:"list",style:[o.state?{display:"block"}:{display:"none"}]},[(0,l.WI)(e.$slots,"options",{},void 0,!0)],6)],2)))),n={name:"ButtonDropdownVue",props:{btnclasses:String,listclasses:String},data:()=>({state:!1}),methods:{toggleDropdown(e){this.state=!this.state},close(e){this.$el.contains(e.target)||(this.state=!1)}},mounted(){document.addEventListener("click",this.close)},beforeDestroy(){document.removeEventListener("click",this.close)}};t(9519),n.render=r,n.__scopeId="data-v-08649203";const d=n,c=(0,l.HX)("data-v-22ef2b3a");(0,l.dD)("data-v-22ef2b3a");const m={class:"navbar navbar-expand-lg navbar-dark bg-dark"},u=(0,l.Wm)("a",{class:"navbar-brand",href:"/"},[(0,l.Wm)("img",{src:"/dist/fonts/pie-chart.svg",width:"30",height:"30",class:"d-inline-block align-top pr-1",alt:""}),(0,l.Uk)(" SpeedRunCharts ")],-1),p=(0,l.Wm)("span",{class:"navbar-toggler-icon"},null,-1),g=(0,l.uE)('<ul class="navbar-nav mr-auto" data-v-22ef2b3a><li class="nav-item" data-v-22ef2b3a><a class="nav-link" href="/Menu/About" data-v-22ef2b3a>About</a></li><li class="nav-item active p-2" data-v-22ef2b3a><a href="https://github.com/speedruncomorg/api" class="badge badge-primary nav-link" data-v-22ef2b3a>Powered by speedrun.com API</a></li></ul>',1),h={class:"form-inline"},v={key:0},y=(0,l.Wm)("i",{class:"fa fa-user"},null,-1),w={class:"pl-2"},f={class:"dropdown-item"},b={class:"custom-control custom-switch"},W=(0,l.Wm)("label",{class:"custom-control-label pl-1",for:"chkNightMode"},[(0,l.Wm)("i",{class:"fa fa-moon"}),(0,l.Wm)("span",{class:"pl-2"},"Night Mode")],-1),k=(0,l.Wm)("a",{href:"/UserAccount/UserAccountDetails",class:"dropdown-item"},[(0,l.Wm)("i",{class:"fa fa-cog"}),(0,l.Wm)("span",{class:"pl-2"},"Settings")],-1),D=(0,l.Wm)("a",{href:"/SpeedRun/Logout",class:"dropdown-item"},[(0,l.Wm)("i",{class:"fa fa-sign-out-alt"}),(0,l.Wm)("span",{class:"pl-2"},"Log out")],-1),S={key:1,class:"navbar-nav"},C={class:"nav-item"},I={class:"nav-item"},M={class:"nav-item"},x=(0,l.Wm)("span",null,[(0,l.Wm)("i",{class:"fa fa-user"})],-1),T={class:"dropdown-item"},j={class:"custom-control custom-switch"},V=(0,l.Wm)("label",{class:"custom-control-label pl-1",for:"chkNightMode"},[(0,l.Wm)("i",{class:"fa fa-moon"}),(0,l.Wm)("span",{class:"pl-2"},"Night Mode")],-1),R=(0,l.Wm)("i",{class:"fa fa-calendar-check"},null,-1),E=(0,l.Wm)("span",{class:"pl-2"},"Import Status",-1),F=(0,l.Wm)("i",{class:"fa fa-user"},null,-1),U=(0,l.Wm)("span",{class:"pl-2"},"Log In",-1),P=(0,l.Wm)("i",{class:"fa fa-clipboard"},null,-1),L=(0,l.Wm)("span",{class:"pl-2"},"Sign Up",-1),z=(0,l.Uk)(" Import Status "),A=(0,l.Uk)(" Log In "),$=(0,l.Uk)(" Reset Password "),H=(0,l.Uk)(" Sign Up ");(0,l.Cn)();const Y=c(((e,a,t,s,o,i)=>{const r=(0,l.up)("vue-next-select"),n=(0,l.up)("button-dropdown"),d=(0,l.up)("import-status"),Y=(0,l.up)("custom-modal"),O=(0,l.up)("login"),N=(0,l.up)("reset-password"),q=(0,l.up)("signup");return(0,l.wg)(),(0,l.j4)("div",null,[(0,l.Wm)("nav",m,[u,(0,l.Wm)("button",{id:"btnToggleNavbar",class:"navbar-toggler",type:"button",onClick:a[1]||(a[1]=a=>e.toggleNavbar=!e.toggleNavbar),"data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},[p]),(0,l.Wm)("div",{id:"navbarNav",class:"navbar-collapse",style:[e.toggleNavbar?null:{display:"none"}]},[g,(0,l.Wm)("form",h,[(0,l.Wm)(r,{modelValue:e.searchSelected,"onUpdate:modelValue":a[2]||(a[2]=a=>e.searchSelected=a),options:e.searchOptions,loading:e.searchLoading,searchable:"","onSearch:input":i.onSearchGames,onSelected:i.onSearchSelected,"group-by":"isConstructor","label-by":"label","value-by":"value","clear-on-select":"","close-on-select":"",openDirection:"bottom",placeholder:"Search games, users",style:{width:"100%"}},null,8,["modelValue","options","loading","onSearch:input","onSelected"])]),t.isauth?((0,l.wg)(),(0,l.j4)("div",v,[(0,l.Wm)(n,{btnclasses:"btn-secondary",listclasses:"dropdown-menu-sm-right"},{text:c((()=>[(0,l.Wm)("span",null,[y,(0,l.Wm)("span",w,(0,l.zw)(t.username),1)])])),options:c((()=>[(0,l.Wm)("div",f,[(0,l.Wm)("div",b,[(0,l.wy)((0,l.Wm)("input",{id:"chkNightMode",type:"checkbox",class:"custom-control-input","data-toggle":"toggle","onUpdate:modelValue":a[3]||(a[3]=e=>t.isdarktheme=e)},null,512),[[l.e8,t.isdarktheme]]),W])]),k,D])),_:1})])):((0,l.wg)(),(0,l.j4)("ul",S,[(0,l.Wm)("li",C,[(0,l.Wm)("a",{class:"nav-link",href:"#",onClick:a[4]||(a[4]=a=>e.showLoginModal=!0)},"Log In")]),(0,l.Wm)("li",I,[(0,l.Wm)("a",{class:"nav-link",href:"#",onClick:a[5]||(a[5]=a=>e.showSignUpModal=!0)},"Sign Up")]),(0,l.Wm)("li",M,[(0,l.Wm)(n,{btnclasses:"btn-secondary",listclasses:"dropdown-menu-sm-right"},{text:c((()=>[x])),options:c((()=>[(0,l.Wm)("div",T,[(0,l.Wm)("div",j,[(0,l.wy)((0,l.Wm)("input",{id:"chkNightMode",type:"checkbox",class:"custom-control-input","data-toggle":"toggle","onUpdate:modelValue":a[6]||(a[6]=e=>t.isdarktheme=e)},null,512),[[l.e8,t.isdarktheme]]),V])]),(0,l.Wm)("a",{class:"dropdown-item",href:"#",onClick:a[7]||(a[7]=a=>e.showImportStatusModal=!0)},[R,E]),(0,l.Wm)("a",{class:"dropdown-item",href:"#",onClick:a[8]||(a[8]=a=>e.showLoginModal=!0)},[F,U]),(0,l.Wm)("a",{class:"dropdown-item",href:"#",onClick:a[9]||(a[9]=a=>e.showSignUpModal=!0)},[P,L])])),_:1})])]))],4)]),e.showImportStatusModal?((0,l.wg)(),(0,l.j4)(Y,{key:0,modelValue:e.showImportStatusModal,"onUpdate:modelValue":a[10]||(a[10]=a=>e.showImportStatusModal=a),contentclass:"modal-md"},{title:c((()=>[z])),default:c((()=>[(0,l.Wm)(d)])),_:1},8,["modelValue"])):(0,l.kq)("v-if",!0),e.showLoginModal?((0,l.wg)(),(0,l.j4)(Y,{key:1,modelValue:e.showLoginModal,"onUpdate:modelValue":a[12]||(a[12]=a=>e.showLoginModal=a),contentclass:"modal-md"},{title:c((()=>[A])),default:c((()=>[(0,l.Wm)(O,{onForgotpass:a[11]||(a[11]=a=>e.showResetModal=!(e.showLoginModal=!1))})])),_:1},8,["modelValue"])):(0,l.kq)("v-if",!0),e.showResetModal?((0,l.wg)(),(0,l.j4)(Y,{key:2,modelValue:e.showResetModal,"onUpdate:modelValue":a[13]||(a[13]=a=>e.showResetModal=a),contentclass:"modal-md"},{title:c((()=>[$])),default:c((()=>[(0,l.Wm)(N)])),_:1},8,["modelValue"])):(0,l.kq)("v-if",!0),e.showSignUpModal?((0,l.wg)(),(0,l.j4)(Y,{key:3,modelValue:e.showSignUpModal,"onUpdate:modelValue":a[14]||(a[14]=a=>e.showSignUpModal=a),contentclass:"modal-md"},{title:c((()=>[H])),default:c((()=>[(0,l.Wm)(q)])),_:1},8,["modelValue"])):(0,l.kq)("v-if",!0)])}));var O=t(9669),N=t.n(O);const q=t(7484),G=e=>Object.keys(e).reduce(((a,t)=>{if(Array.isArray(e[t]))for(var l=0;l<e[t].length;l++)a.append(t,e[t][l]);else a.append(t,e[t]);return a}),new FormData),B=e=>{var a="",t=parseInt(e);switch(t<=0&&(a=t.toString()),t%100){case 11:case 12:case 13:a=t+"th"}switch(t%10){case 1:a=t+"st";break;case 2:a=t+"nd";break;case 3:a=t+"rd";break;default:a=t+"th"}return a},K=(e,a)=>{var t=q().startOf("day").add(a,e);return t.hour()>0?t.format("hh[h] mm[m] ss[s]"):t.minute()>0?t.format("mm[m] ss[s]"):t.second()>0?t.format("ss[s]"):t.format("SSS[ms]")},_=e=>q(e).format("YYYY-MM-DDTHH:mm:ss"),Z=e=>e.replace("&","&amp;").replace("<","&lt;").replace(">","&gt;").replace('"',"&quot;").replace("'","&#039;"),J={name:"NavbarVue",props:{isauth:Boolean,isdarktheme:Boolean,username:String,userid:String},data:function(){return{searchSelected:null,searchOptions:[],searchLoading:!1,showImportStatusModal:!1,showLoginModal:!1,showResetModal:!1,showSignUpModal:!1,showDropdown:!1,toggleNavbar:!1}},computed:{},watch:{isdarktheme:function(e,a){var t,l,s=this;this.isauth?N().post("/UserAccount/UpdateIsDarkTheme",null,{params:{isDarkTheme:e}}).then((a=>{a.data.success&&s.updateTheme(e)})).catch((e=>(console.error(e),Promise.reject(e)))):(this.updateTheme(e),"theme",t=e?"theme-dark":"theme-light",new Date,l="theme="+t,l+=";path=/",document.cookie=l)}},created:function(){},methods:{onSearchGames:function(e){if(e.target.value){var a=this;this.searchLoading=!0,N().get("/Menu/Search",{params:{term:e.target.value}}).then((e=>(a.searchOptions=e.data.reduce(((e,a)=>e.concat({label:a.label,value:a.subItems.map((e=>e.value)),isConstructor:!0}).concat(a.subItems.map((e=>({label:e.label,value:e.value,category:a.label}))))),[]),a.searchLoading=!1,e))).catch((e=>(console.error(e),Promise.reject(e))))}},onSearchSelected:function(e){var a,t;"Games"==e.category?(a="Game",t="GameDetails"):(a="User",t="UserDetails"),location.href=encodeURI("/"+a+"/"+t+"/"+e.value)},updateTheme:function(e){var a=document.body;e?(a.classList.remove("theme-light"),a.classList.add("theme-dark")):(a.classList.remove("theme-dark"),a.classList.add("theme-light"))}}};t(1066),J.render=Y,J.__scopeId="data-v-22ef2b3a";const Q=J,X={class:"modal-content"},ee={class:"modal-header p-0"},ae={class:"modal-title col-sm-10 align-self-center"},te=(0,l.Wm)("span",{"aria-hidden":"true"},"×",-1),le={class:"modal-body"},se={name:"CustomModalVue",props:{contentclass:String},render:function(e,a,t,s,o,i){const r=(0,l.up)("vue-final-modal");return(0,l.wg)(),(0,l.j4)(r,(0,l.dG)(e.$attrs,{classes:"modal-container","content-class":"modal-dialog modal-dialog-centered "+t.contentclass}),{default:(0,l.w5)((({params:a,close:t})=>[(0,l.Wm)("div",X,[(0,l.Wm)("div",ee,[(0,l.WI)(e.$slots,"header",{},(()=>[(0,l.Wm)("div",ae,[(0,l.WI)(e.$slots,"title")])])),(0,l.Wm)("button",{type:"button",class:"close m-0","data-dismiss":"modal","aria-label":"Close",onClick:t},[te],8,["onClick"])]),(0,l.Wm)("div",le,[(0,l.WI)(e.$slots,"default",{params:a})])])])),_:3},16,["content-class"])}},oe={id:"divResetPass",class:"container"},ie={class:"form-group row no-gutters"},re=(0,l.Wm)("label",{class:"col-sm-3 col-form-label"},"Username",-1),ne={class:"col-sm-auto"},de=(0,l.Wm)("div",{class:"row no-gutters pt-1"},[(0,l.Wm)("div",{class:"form-group mx-auto"},[(0,l.Wm)("button",{type:"submit",class:"btn btn-primary"},"Reset Password")])],-1),ce={key:0},me=(0,l.Wm)("div",{class:"container d-flex p-3"},[(0,l.Wm)("div",{class:"mx-auto align-self-center"},[(0,l.Wm)("i",{class:"fa fa-spinner fa-spin fa-lg"})])],-1),ue={key:1},pe=(0,l.Wm)("div",{class:"container p-3",style:{"max-width":"400px"}},[(0,l.Wm)("div",{class:"mx-auto"},[(0,l.Wm)("span",null,"To Reset your password click the reset password link in the email we just sent you."),(0,l.Wm)("br"),(0,l.Wm)("br"),(0,l.Wm)("span",null,"If your email has not arrived try these steps:"),(0,l.Wm)("ul",{class:"pl-4"},[(0,l.Wm)("li",null,"Wait 30 mins"),(0,l.Wm)("li",null,"Check your spam folder"),(0,l.Wm)("li",null,"Try Reset Password again")])])],-1);var ge=t(4028),he=t(2587);const{withAsync:ve}=he.BM,ye=async e=>""===e||await N().get("/SpeedRun/ActiveUsernameExists",{params:{username:e}}).then((e=>e.data)).catch((e=>(console.error(e),Promise.reject(e)))),we={name:"ResetPasswordVue",setup:()=>({v$:(0,ge.ZP)()}),data:()=>({form:{Username:""},loading:!1,showSuccess:!1,errorMessages:[]}),computed:{},created:function(){},methods:{async submitForm(){if(await this.v$.$validate()){var e=this,a=G(this.form);this.loading=!0,N().post("/SpeedRun/ResetPassword",a).then((a=>{e.showSuccess=a.data.success,e.errorMessages=a.data.errorMessages,e.loading=!1})).catch((e=>(console.error(e),Promise.reject(e))))}}},validations:()=>({form:{Username:{required:he.BM.withMessage("Username is required",he.C1),activeUsernameExists:he.BM.withMessage("Invalid Username",ve(ye))}}}),render:function(e,a,t,s,o,i){return(0,l.wg)(),(0,l.j4)("div",oe,[(0,l.Wm)("form",{onSubmit:a[3]||(a[3]=(0,l.iM)(((...e)=>i.submitForm&&i.submitForm(...e)),["prevent"]))},[(0,l.Wm)("div",null,[(0,l.Wm)("ul",null,[((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(o.errorMessages,(e=>((0,l.wg)(),(0,l.j4)("li",null,(0,l.zw)(e),1)))),256)),((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(s.v$.$errors,(e=>((0,l.wg)(),(0,l.j4)("li",null,(0,l.zw)(e.$message),1)))),256))])]),(0,l.Wm)("div",ie,[re,(0,l.Wm)("div",ne,[(0,l.wy)((0,l.Wm)("input",{type:"text",name:"Username",class:"form-control",autocomplete:"off","onUpdate:modelValue":a[1]||(a[1]=e=>o.form.Username=e),onBlur:a[2]||(a[2]=(...e)=>s.v$.form.Username.$touch&&s.v$.form.Username.$touch(...e))},null,544),[[l.nr,o.form.Username,void 0,{lazy:!0}]])])]),de,(0,l.Wm)("div",null,[o.loading?((0,l.wg)(),(0,l.j4)("div",ce,[me])):o.showSuccess?((0,l.wg)(),(0,l.j4)("div",ue,[pe])):(0,l.kq)("v-if",!0)])],32)])}},fe={class:"form-group row no-gutters"},be=(0,l.Wm)("label",{class:"col-sm-4 col-form-label"},"Password",-1),We={class:"col-sm-auto"},ke={class:"form-group row no-gutters"},De=(0,l.Wm)("label",{class:"col-sm-4 col-form-label"},"Confirm Password",-1),Se={class:"col-sm-auto"},Ce=(0,l.Wm)("div",{class:"row no-gutters pt-1"},[(0,l.Wm)("div",{class:"form-group mx-auto"},[(0,l.Wm)("button",{type:"submit",class:"btn btn-primary"},"Submit")])],-1),Ie={key:0,style:{"text-align":"center"}},Me=(0,l.Wm)("i",{class:"fa fa-circle-check"},null,-1),xe=(0,l.Wm)("div",null," Successfully reset password. ",-1),Te={key:1,style:{"text-align":"center"}},je=(0,l.Wm)("i",{class:"fa fa-hourglass-end"},null,-1),Ve=(0,l.Uk)(" Reset Password link has expired, please "),Re=(0,l.Uk)(" to try again. "),Ee=(0,l.Uk)(" Reset Password "),{withAsync:Fe}=he.BM,Ue=he.BM.regex(/^(?=.*[A-Za-z])(?=.*\d)[._()-\/#&$@+\w\s]{8,30}$/),Pe=async e=>""===e||await N().get("/SpeedRun/PasswordNotMatches",{params:{password:e}}).then((e=>e.data)).catch((e=>(console.error(e),Promise.reject(e)))),Le={name:"ChangePasswordVue",setup:()=>({v$:(0,ge.ZP)()}),props:{islinkvalid:Boolean},data:()=>({form:{Password:"",ConfirmPassword:""},showResetModal:!1,showSuccess:!1,errorMessages:[]}),computed:{},created:function(){},methods:{async submitForm(){if(await this.v$.$validate()){var e=this,a=G(this.form);N().post("/SpeedRun/ChangePassword",a).then((a=>{a.data.success?this.showSuccess=!0:e.errorMessages=a.data.errorMessages})).catch((e=>(console.error(e),Promise.reject(e))))}}},validations(){return{form:{Password:{required:he.BM.withMessage("Password is required",he.C1),passwordFormat:he.BM.withMessage("Must be between 8 - 30 characters with at least 1 number and letter",Ue),passwordNotMatches:he.BM.withMessage("Username already exists",Fe(Pe))},ConfirmPassword:{sameAsPassword:he.BM.withMessage("Must match Password",(0,he.sH)(this.form.Password))}}}},render:function(e,a,t,s,o,i){const r=(0,l.up)("reset-password"),n=(0,l.up)("custom-modal");return(0,l.wg)(),(0,l.j4)("div",null,[t.islinkvalid?((0,l.wg)(),(0,l.j4)("form",{key:0,onSubmit:a[3]||(a[3]=(0,l.iM)(((...e)=>i.submitForm&&i.submitForm(...e)),["prevent"]))},[(0,l.Wm)("div",null,[(0,l.Wm)("ul",null,[((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(o.errorMessages,(e=>((0,l.wg)(),(0,l.j4)("li",null,(0,l.zw)(e),1)))),256)),((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(s.v$.$errors,(e=>((0,l.wg)(),(0,l.j4)("li",{key:e.$uid},(0,l.zw)(e.$message),1)))),128))])]),(0,l.Wm)("div",fe,[be,(0,l.Wm)("div",We,[(0,l.wy)((0,l.Wm)("input",{type:"password",class:"form-control",autocomplete:"off","onUpdate:modelValue":a[1]||(a[1]=e=>s.v$.form.Password.$model=e)},null,512),[[l.nr,s.v$.form.Password.$model,void 0,{trim:!0}]])])]),(0,l.Wm)("div",ke,[De,(0,l.Wm)("div",Se,[(0,l.wy)((0,l.Wm)("input",{type:"password",class:"form-control",autocomplete:"off","onUpdate:modelValue":a[2]||(a[2]=e=>s.v$.form.ConfirmPassword.$model=e)},null,512),[[l.nr,s.v$.form.ConfirmPassword.$model,void 0,{trim:!0}]])])]),Ce,o.showSuccess?((0,l.wg)(),(0,l.j4)("div",Ie,[Me,xe])):(0,l.kq)("v-if",!0)],32)):((0,l.wg)(),(0,l.j4)("div",Te,[je,(0,l.Wm)("div",null,[Ve,(0,l.Wm)("a",{href:"#",onClick:a[4]||(a[4]=e=>o.showResetModal=!0)},"Reset Password"),Re])])),o.showResetModal?((0,l.wg)(),(0,l.j4)(n,{key:2,modelValue:o.showResetModal,"onUpdate:modelValue":a[5]||(a[5]=e=>o.showResetModal=e),contentclass:"modal-md"},{title:(0,l.w5)((()=>[Ee])),default:(0,l.w5)((()=>[(0,l.Wm)(r)])),_:1},8,["modelValue"])):(0,l.kq)("v-if",!0)])}},ze={id:"divLogin",class:"container"},Ae={class:"text-danger small font-weight-bold"},$e={class:"form-group row no-gutters"},He=(0,l.Wm)("label",{class:"col-sm-3 col-form-label"},"Username",-1),Ye={class:"col-sm-auto"},Oe={class:"text-danger small font-weight-bold"},Ne={class:"form-group row no-gutters"},qe=(0,l.Wm)("label",{class:"col-sm-3 col-form-label"},"Password",-1),Ge={class:"col-sm-auto"},Be={class:"text-danger small font-weight-bold"},Ke={class:"row no-gutters pt-1"},_e={class:"form-group mx-auto"},Ze=(0,l.Wm)("button",{type:"submit",class:"btn btn-primary"},"Log In",-1),{withAsync:Je}=he.BM,Qe=async e=>""===e||await N().get("/SpeedRun/ActiveUsernameExists",{params:{username:e}}).then((e=>e.data)).catch((e=>(console.error(e),Promise.reject(e)))),Xe={name:"LoginVue",setup:()=>({v$:(0,ge.ZP)()}),data:()=>({form:{Username:"",Password:""},errorMessages:[]}),methods:{async submitForm(){if(await this.v$.$validate()){var e=this,a=G(this.form);N().post("/SpeedRun/Login",a).then((a=>{a.data.success?location.reload():e.errorMessages=a.data.errorMessages})).catch((e=>(console.error(e),Promise.reject(e))))}}},validations:()=>({form:{Username:{required:he.BM.withMessage("Username is required",he.C1),activeUsernameExists:he.BM.withMessage("Invalid Username",Je(Qe))},Password:{required:he.BM.withMessage("Password is required",he.C1)}}}),render:function(e,a,t,s,o,i){return(0,l.wg)(),(0,l.j4)("div",ze,[(0,l.Wm)("form",{onSubmit:a[6]||(a[6]=(0,l.iM)(((...e)=>i.submitForm&&i.submitForm(...e)),["prevent"]))},[(0,l.Wm)("div",null,[(0,l.Wm)("ul",null,[((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(o.errorMessages,(e=>((0,l.wg)(),(0,l.j4)("li",Ae,(0,l.zw)(e),1)))),256))])]),(0,l.Wm)("div",$e,[He,(0,l.Wm)("div",Ye,[(0,l.wy)((0,l.Wm)("input",{type:"text",class:"form-control",autocomplete:"off","onUpdate:modelValue":a[1]||(a[1]=e=>o.form.Username=e),onBlur:a[2]||(a[2]=(...e)=>s.v$.form.Username.$touch&&s.v$.form.Username.$touch(...e))},null,544),[[l.nr,o.form.Username,void 0,{lazy:!0}]]),((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(s.v$.form.Username.$errors,(e=>((0,l.wg)(),(0,l.j4)("span",Oe,(0,l.zw)(e.$message),1)))),256))])]),(0,l.Wm)("div",Ne,[qe,(0,l.Wm)("div",Ge,[(0,l.wy)((0,l.Wm)("input",{type:"password",class:"form-control",autocomplete:"off","onUpdate:modelValue":a[3]||(a[3]=e=>o.form.Password=e),onBlur:a[4]||(a[4]=(...e)=>s.v$.form.Password.$touch&&s.v$.form.Password.$touch(...e))},null,544),[[l.nr,o.form.Password,void 0,{lazy:!0}]]),((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(s.v$.form.Password.$errors,(e=>((0,l.wg)(),(0,l.j4)("span",Be,(0,l.zw)(e.$message),1)))),256))])]),(0,l.Wm)("div",Ke,[(0,l.Wm)("div",_e,[Ze,(0,l.Wm)("button",{type:"button",class:"btn btn-secondary ml-2",onClick:a[5]||(a[5]=a=>e.$emit("forgotpass",e.close))},"Forgot Password")])])],32)])}},ea={id:"divResetPass",class:"container"},aa={class:"text-danger small font-weight-bold"},ta={class:"form-group row no-gutters"},la=(0,l.Wm)("label",{class:"col-sm-3 col-form-label"},"Email",-1),sa={class:"col"},oa={class:"text-danger small font-weight-bold"},ia=(0,l.Wm)("div",{class:"row no-gutters pt-1"},[(0,l.Wm)("div",{class:"form-group mx-auto"},[(0,l.Wm)("button",{type:"submit",class:"btn btn-primary"},"Sign Up")])],-1),ra={key:0},na=(0,l.Wm)("div",{class:"container d-flex p-3"},[(0,l.Wm)("div",{class:"mx-auto align-self-center"},[(0,l.Wm)("i",{class:"fa fa-spinner fa-spin fa-lg"})])],-1),da={key:1},ca=(0,l.Wm)("div",{class:"container p-3",style:{"max-width":"400px"}},[(0,l.Wm)("div",{class:"mx-auto"},[(0,l.Wm)("span",null,"To Activate your account click the activation link in the email we just sent you."),(0,l.Wm)("br"),(0,l.Wm)("br"),(0,l.Wm)("span",null,"If your email has not arrived try these steps:"),(0,l.Wm)("ul",{class:"pl-4"},[(0,l.Wm)("li",null,"Wait 30 mins"),(0,l.Wm)("li",null,"Check your spam folder"),(0,l.Wm)("li",null,"Try Sign Up again")])])],-1),{withAsync:ma}=he.BM,ua=async e=>""===e||await N().get("/SpeedRun/EmailNotExists",{params:{email:e}}).then((e=>e.data)).catch((e=>(console.error(e),Promise.reject(e)))),pa={name:"SignUpVue",setup:()=>({v$:(0,ge.ZP)()}),data:()=>({form:{Email:""},loading:!1,showSuccess:!1,errorMessages:[]}),computed:{},created:function(){},methods:{async submitForm(){if(await this.v$.$validate()){var e=this,a=G(this.form);this.loading=!0,N().post("/SpeedRun/SignUp",a).then((a=>{e.showSuccess=a.data.success,e.errorMessages=a.data.errorMessages,e.loading=!1})).catch((e=>(console.error(e),Promise.reject(e))))}}},validations:()=>({form:{Email:{required:he.BM.withMessage("Email is required",he.C1),email:he.BM.withMessage("Invalid Email",he.Do),emailNotExists:he.BM.withMessage("Email already exists",ma(ua))}}}),render:function(e,a,t,s,o,i){return(0,l.wg)(),(0,l.j4)("div",ea,[(0,l.Wm)("form",{onSubmit:a[3]||(a[3]=(0,l.iM)(((...e)=>i.submitForm&&i.submitForm(...e)),["prevent"]))},[(0,l.Wm)("div",null,[(0,l.Wm)("ul",null,[((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(o.errorMessages,(e=>((0,l.wg)(),(0,l.j4)("li",aa,(0,l.zw)(e),1)))),256))])]),(0,l.Wm)("div",ta,[la,(0,l.Wm)("div",sa,[(0,l.wy)((0,l.Wm)("input",{type:"text",name:"Email",class:"form-control",autocomplete:"off","onUpdate:modelValue":a[1]||(a[1]=e=>o.form.Email=e),onBlur:a[2]||(a[2]=(...e)=>s.v$.form.Email.$touch&&s.v$.form.Email.$touch(...e)),style:{width:"100%"}},null,544),[[l.nr,o.form.Email,void 0,{lazy:!0}]]),((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(s.v$.form.Email.$errors,(e=>((0,l.wg)(),(0,l.j4)("span",oa,(0,l.zw)(e.$message),1)))),256))])]),ia,(0,l.Wm)("div",null,[o.loading?((0,l.wg)(),(0,l.j4)("div",ra,[na])):o.showSuccess?((0,l.wg)(),(0,l.j4)("div",da,[ca])):(0,l.kq)("v-if",!0)])],32)])}},ga={class:"text-danger small font-weight-bold"},ha={class:"form-group row no-gutters"},va=(0,l.Wm)("label",{class:"col-sm-4 col-form-label"},"Username",-1),ya={class:"col-sm-auto"},wa={class:"text-danger small font-weight-bold"},fa={class:"form-group row no-gutters"},ba=(0,l.Wm)("label",{class:"col-sm-4 col-form-label"},"Password",-1),Wa={class:"col-sm-auto"},ka={class:"text-danger small font-weight-bold"},Da={class:"form-group row no-gutters"},Sa=(0,l.Wm)("label",{class:"col-sm-4 col-form-label"},"Confirm Password",-1),Ca={class:"col-sm-auto"},Ia={class:"text-danger small font-weight-bold"},Ma=(0,l.Wm)("div",{class:"row no-gutters pt-1"},[(0,l.Wm)("div",{class:"form-group mx-auto"},[(0,l.Wm)("button",{type:"submit",class:"btn btn-primary"},"Submit")])],-1),xa={key:1,style:{"text-align":"center"}},Ta=(0,l.Wm)("i",{class:"fa fa-hourglass-end"},null,-1),ja=(0,l.Uk)(" Activation link has expired, please "),Va=(0,l.Uk)(" to try again. "),Ra=(0,l.Uk)(" Sign Up "),{withAsync:Ea}=he.BM,Fa=he.BM.regex(/^[._()-\/#&$@+\w\s]{3,30}$/),Ua=he.BM.regex(/^(?=.*[A-Za-z])(?=.*\d)[._()-\/#&$@+\w\s]{8,30}$/),Pa=async e=>""===e||await N().get("/SpeedRun/UsernameNotExists",{params:{username:e}}).then((e=>Promise.resolve(e.data))).catch((e=>(console.error(e),Promise.reject(e)))),La={name:"ActivateVue",props:{islinkvalid:Boolean},setup:()=>({v$:(0,ge.ZP)()}),data:()=>({form:{Username:"",Password:"",ConfirmPassword:""},errorMessages:[],showSignUpModal:!1}),computed:{},created:function(){},methods:{async submitForm(){if(await this.v$.$validate()){var e=this,a=G(this.form);this.loading=!0,N().post("/SpeedRun/Activate",a).then((a=>{a.data.success?location.href="/":e.errorMessages=a.data.errorMessages})).catch((e=>(console.error(e),Promise.reject(e))))}}},validations(){return{form:{Username:{required:he.BM.withMessage("Username is required",he.C1),usernameFormat:he.BM.withMessage("Must be between 3 - 30 characters",Fa),usernameNotExists:he.BM.withMessage("Username already exists",Ea(Pa))},Password:{required:he.BM.withMessage("Password is required",he.C1),passwordFormat:he.BM.withMessage("Must be between 8 - 30 characters with at least 1 number and letter",Ua)},ConfirmPassword:{sameAsPassword:he.BM.withMessage("Must match Password",(0,he.sH)(this.form.Password))}}}},render:function(e,a,t,s,o,i){const r=(0,l.up)("signup"),n=(0,l.up)("custom-modal");return(0,l.wg)(),(0,l.j4)("div",null,[t.islinkvalid?((0,l.wg)(),(0,l.j4)("form",{key:0,onSubmit:a[7]||(a[7]=(0,l.iM)(((...e)=>i.submitForm&&i.submitForm(...e)),["prevent"])),autocomplete:"off"},[(0,l.Wm)("div",null,[(0,l.Wm)("ul",null,[((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(o.errorMessages,(e=>((0,l.wg)(),(0,l.j4)("li",ga,(0,l.zw)(e),1)))),256))])]),(0,l.Wm)("div",ha,[va,(0,l.Wm)("div",ya,[(0,l.wy)((0,l.Wm)("input",{type:"text",name:"Username",class:"form-control",autocomplete:"off","onUpdate:modelValue":a[1]||(a[1]=e=>o.form.Username=e),onBlur:a[2]||(a[2]=(...e)=>s.v$.form.Username.$touch&&s.v$.form.Username.$touch(...e))},null,544),[[l.nr,o.form.Username,void 0,{lazy:!0}]]),((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(s.v$.form.Username.$errors,(e=>((0,l.wg)(),(0,l.j4)("span",wa,(0,l.zw)(e.$message),1)))),256))])]),(0,l.Wm)("div",fa,[ba,(0,l.Wm)("div",Wa,[(0,l.wy)((0,l.Wm)("input",{type:"password",class:"form-control",autocomplete:"new-password","onUpdate:modelValue":a[3]||(a[3]=e=>o.form.Password=e),onBlur:a[4]||(a[4]=(...e)=>s.v$.form.Password.$touch&&s.v$.form.Password.$touch(...e))},null,544),[[l.nr,o.form.Password,void 0,{lazy:!0}]]),((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(s.v$.form.Password.$errors,(e=>((0,l.wg)(),(0,l.j4)("span",ka,(0,l.zw)(e.$message),1)))),256))])]),(0,l.Wm)("div",Da,[Sa,(0,l.Wm)("div",Ca,[(0,l.wy)((0,l.Wm)("input",{type:"password",class:"form-control",autocomplete:"new-password","onUpdate:modelValue":a[5]||(a[5]=e=>o.form.ConfirmPassword=e),onBlur:a[6]||(a[6]=(...e)=>s.v$.form.ConfirmPassword.$touch&&s.v$.form.ConfirmPassword.$touch(...e))},null,544),[[l.nr,o.form.ConfirmPassword,void 0,{lazy:!0}]]),((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(s.v$.form.ConfirmPassword.$errors,(e=>((0,l.wg)(),(0,l.j4)("span",Ia,(0,l.zw)(e.$message),1)))),256))])]),Ma],32)):((0,l.wg)(),(0,l.j4)("div",xa,[Ta,(0,l.Wm)("div",null,[ja,(0,l.Wm)("a",{href:"#",onClick:a[8]||(a[8]=e=>o.showSignUpModal=!0)},"Sign Up"),Va])])),o.showSignUpModal?((0,l.wg)(),(0,l.j4)(n,{key:2,modelValue:o.showSignUpModal,"onUpdate:modelValue":a[9]||(a[9]=e=>o.showSignUpModal=e),contentclass:"modal-md"},{title:(0,l.w5)((()=>[Ra])),default:(0,l.w5)((()=>[(0,l.Wm)(r)])),_:1},8,["modelValue"])):(0,l.kq)("v-if",!0)])}},za={key:0},Aa=(0,l.Wm)("div",{class:"d-flex"},[(0,l.Wm)("div",{class:"mx-auto"},[(0,l.Wm)("i",{class:"fas fa-spinner fa-spin fa-lg"})])],-1),$a={key:1,id:"divSpeedRunEdit",class:"container p-0"},Ha={class:"form-group row no-gutters mb-2"},Ya={key:0,class:"col-sm-10 m-auto"},Oa={class:"p-0 embed-responsive embed-responsive-16by9"},Na={key:1,class:"col-sm-10 ml-auto form-message text-muted"},qa=(0,l.Wm)("i",{class:"fas fa-exclamation-circle"},null,-1),Ga=(0,l.Uk)("  No Video Available "),Ba={class:"form-group row no-gutters mb-2"},Ka=(0,l.Wm)("label",{class:"col-sm-2 col-form-label"},"Game",-1),_a={class:"col-sm-10"},Za={class:"icon-wrapper"},Ja={class:"form-group row no-gutters mb-2"},Qa=(0,l.Wm)("label",{class:"col-sm-2 col-form-label"},"Status",-1),Xa={class:"col-sm-10"},et={class:"form-group row no-gutters mb-2"},at=(0,l.Wm)("label",{class:"col-sm-2 col-form-label"},"Verified Date",-1),tt={class:"col-sm-10"},lt={key:0,class:"form-group row no-gutters mb-2"},st=(0,l.Wm)("label",{class:"col-sm-2 col-form-label"},"Players",-1),ot={class:"col-sm-10"},it={style:{width:"300px"}},rt={key:1,class:"form-group row no-gutters mb-2"},nt=(0,l.Wm)("label",{class:"col-sm-2 col-form-label"},"Guests",-1),dt={class:"col-sm-10"},ct={style:{width:"300px"}},mt={class:"form-group row no-gutters mb-2"},ut=(0,l.Wm)("label",{class:"col-sm-2 col-form-label"},"Emulated",-1),pt={class:"col-sm-10"},gt={class:"custom-control custom-switch pt-2"},ht=(0,l.Wm)("label",{class:"custom-control-label",for:"chkIsEmulated1"},null,-1),vt={class:"form-group row no-gutters mb-2"},yt=(0,l.Wm)("label",{class:"col-sm-2 col-form-label"},"Category Type",-1),wt={class:"col-sm-10"},ft={class:"form-group row no-gutters mb-2"},bt=(0,l.Wm)("label",{class:"col-sm-2 col-form-label"},"Platform",-1),Wt={class:"col-sm-10"},kt={class:"form-group row no-gutters mb-2"},Dt=(0,l.Wm)("label",{class:"col-sm-2 col-form-label"},"Category",-1),St={class:"col-sm-10"},Ct={key:2,class:"form-group row no-gutters mb-2"},It=(0,l.Wm)("label",{class:"col-sm-2 col-form-label"},"Level",-1),Mt={class:"col-sm-10"},xt={class:"form-group row no-gutters mb-2"},Tt={class:"col-sm-2 col-form-label"},jt={class:"col-sm-10"},Vt={class:"form-group row no-gutters mb-2"},Rt={class:"col-sm-2 col-form-label"},Et={class:"col-sm-10"},Ft={class:"form-group row no-gutters mb-2"},Ut=(0,l.Wm)("label",{class:"col-sm-2 col-form-label"},"Times",-1),Pt={class:"col-sm-10"},Lt={class:"row m-0"},zt={class:"col-auto p-0"},At={class:"table-responsive"},$t=(0,l.Wm)("thead",null,[(0,l.Wm)("tr",null,[(0,l.Wm)("th",{class:"font-weight-normal p-1",style:{"font-size":"12px"}},"Primary Time"),(0,l.Wm)("th",{class:"font-weight-normal p-1",style:{"font-size":"12px"}},"Real Time")])],-1),Ht={class:"col-auto p-0"},Yt={class:"table-responsive"},Ot=(0,l.Wm)("thead",null,[(0,l.Wm)("tr",null,[(0,l.Wm)("th",{class:"font-weight-normal p-1",style:{"font-size":"12px"}},"Real Time w/o Loads"),(0,l.Wm)("th",{class:"font-weight-normal p-1",style:{"font-size":"12px"}},"Game Time")])],-1),Nt={key:3,class:"row no-gutters pt-1"},qt={class:"form-group"},Gt={name:"SpeedRunEditVue",props:{gameid:String,speedrunid:String,readonly:Boolean},data:function(){return{item:{},loading:!1}},computed:{playerids:function(){return this.item.speedRunVM.players.map((e=>e.id))},guestids:function(){return this.item.speedRunVM.guests.map((e=>e.id))}},created:function(){this.loadData().then((e=>{this.init()}))},methods:{loadData:function(){var e=this;return this.loading=!0,N().get("/SpeedRun/GetEditSpeedRun",{params:{gameID:this.gameid,speedRunID:this.speedrunid}}).then((a=>(e.item=a.data,e.loading=!1,a))).catch((e=>(console.error(e),Promise.reject(e))))},init:function(){this.readonly&&Array.from(this.$el.querySelectorAll("#divSpeedRunEdit input[type=text], input[type=datetime-local], input[type=checkbox], select")).forEach((e=>e.disabled=!0))},getFormattedDateString:function(e){return _(e)},save:function(){}},render:function(e,a,t,s,o,i){const r=(0,l.up)("vue-next-select");return(0,l.wg)(),(0,l.j4)("div",null,[e.loading?((0,l.wg)(),(0,l.j4)("div",za,[Aa])):((0,l.wg)(),(0,l.j4)("div",$a,[(0,l.Wm)("div",Ha,[e.item.speedRunVM.videoLink?((0,l.wg)(),(0,l.j4)("div",Ya,[(0,l.Wm)("div",Oa,[(0,l.Wm)("iframe",{class:"embed-responsive-item",src:e.item.speedRunVM.videoLink,loading:"lazy",frameborder:"0",autoplay:"0",scrolling:"no",allowfullscreen:"true"},null,8,["src"])])])):((0,l.wg)(),(0,l.j4)("div",Na,[qa,Ga]))]),(0,l.Wm)("div",Ba,[Ka,(0,l.Wm)("div",_a,[(0,l.Wm)("span",Za,[(0,l.wy)((0,l.Wm)("input",{type:"text",name:"game",class:"form-control mr-sm-2 game-search",style:{width:"300px"},placeholder:"Search Games","aria-label":"Search","onUpdate:modelValue":a[1]||(a[1]=a=>e.item.speedRunVM.game.name=a)},null,512),[[l.nr,e.item.speedRunVM.game.name]])])])]),(0,l.Wm)("div",Ja,[Qa,(0,l.Wm)("div",Xa,[(0,l.wy)((0,l.Wm)("select",{id:"drpStatus",class:"custom-select form-control",style:{width:"220px"},"onUpdate:modelValue":a[2]||(a[2]=a=>e.item.speedRunVM.statusType.id=a)},[((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(e.item.statusTypes,(e=>((0,l.wg)(),(0,l.j4)("option",{value:e.id},(0,l.zw)(e.name),9,["value"])))),256))],512),[[l.bM,e.item.speedRunVM.statusType.id]])])]),(0,l.Wm)("div",et,[at,(0,l.Wm)("div",tt,[(0,l.Wm)("input",{type:"datetime-local",class:"form-control",value:i.getFormattedDateString(e.item.speedRunVM.verifyDate),style:{width:"240px"}},null,8,["value"])])]),e.item.speedRunVM.players?((0,l.wg)(),(0,l.j4)("div",lt,[st,(0,l.Wm)("div",ot,[(0,l.Wm)("div",it,[(0,l.Wm)(r,{modelValue:i.playerids,"onUpdate:modelValue":a[3]||(a[3]=e=>i.playerids=e),options:e.item.players,"label-by":"name",disabled:t.readonly,"value-by":"id",multiple:"",taggable:""},null,8,["modelValue","options","disabled"])])])])):(0,l.kq)("v-if",!0),e.item.speedRunVM.guests?((0,l.wg)(),(0,l.j4)("div",rt,[nt,(0,l.Wm)("div",dt,[(0,l.Wm)("div",ct,[(0,l.Wm)(r,{modelValue:i.guestids,"onUpdate:modelValue":a[4]||(a[4]=e=>i.guestids=e),options:e.item.guests,"label-by":"name","value-by":"id",disabled:t.readonly,multiple:"",taggable:""},null,8,["modelValue","options","disabled"])])])])):(0,l.kq)("v-if",!0),(0,l.Wm)("div",mt,[ut,(0,l.Wm)("div",pt,[(0,l.Wm)("div",gt,[(0,l.wy)((0,l.Wm)("input",{id:"chkIsEmulated1",type:"checkbox",class:"custom-control-input","onUpdate:modelValue":a[5]||(a[5]=a=>e.item.speedRunVM.isEmulated=a)},null,512),[[l.e8,e.item.speedRunVM.isEmulated]]),ht])])]),(0,l.Wm)("div",vt,[yt,(0,l.Wm)("div",wt,[(0,l.wy)((0,l.Wm)("select",{id:"drpCategoryType",class:"custom-select form-control",style:{width:"220px"},"onUpdate:modelValue":a[6]||(a[6]=a=>e.item.speedRunVM.categoryType.id=a)},[((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(e.item.categoryTypes,(e=>((0,l.wg)(),(0,l.j4)("option",{value:e.id},(0,l.zw)(e.name),9,["value"])))),256))],512),[[l.bM,e.item.speedRunVM.categoryType.id]])])]),(0,l.Wm)("div",ft,[bt,(0,l.Wm)("div",Wt,[(0,l.Wm)("select",{id:"drpPlatform",class:"custom-select form-control",style:{width:"220px"},"v-model":e.item.speedRunVM.platform?.id},[((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(e.item.platforms,(e=>((0,l.wg)(),(0,l.j4)("option",{value:e.id},(0,l.zw)(e.name),9,["value"])))),256))],8,["v-model"])])]),(0,l.Wm)("div",kt,[Dt,(0,l.Wm)("div",St,[(0,l.wy)((0,l.Wm)("select",{id:"drpCategory",class:"custom-select form-control",style:{width:"220px"},"onUpdate:modelValue":a[7]||(a[7]=a=>e.item.speedRunVM.category.id=a)},[((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(e.item.categories,(e=>((0,l.wg)(),(0,l.j4)("option",{value:e.id},(0,l.zw)(e.name),9,["value"])))),256))],512),[[l.bM,e.item.speedRunVM.category.id]])])]),e.item.speedRunVM.level?((0,l.wg)(),(0,l.j4)("div",Ct,[It,(0,l.Wm)("div",Mt,[(0,l.wy)((0,l.Wm)("select",{id:"drpLevel",class:"custom-select form-control",style:{width:"220px"},"onUpdate:modelValue":a[8]||(a[8]=a=>e.item.speedRunVM.level.id=a)},[((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(e.item.levels,(e=>((0,l.wg)(),(0,l.j4)("option",{value:e.id},(0,l.zw)(e.name),9,["value"])))),256))],512),[[l.bM,e.item.speedRunVM.level.id]])])])):(0,l.kq)("v-if",!0),((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(e.item.subCategoryVariables?.filter((a=>a.categoryID==e.item.speedRunVM.category.id&&a.levelID==e.item.speedRunVM.level?.id)),((a,t)=>((0,l.wg)(),(0,l.j4)("div",xt,[(0,l.Wm)("label",Tt,(0,l.zw)(a.name),1),(0,l.Wm)("div",jt,[(0,l.wy)((0,l.Wm)("select",{id:e.drpVariable+t,class:"custom-select form-control",style:{width:"220px"},"onUpdate:modelValue":t=>e.item.speedRunVM.variableValues[a.id]=t},[((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(a.variableValues,(e=>((0,l.wg)(),(0,l.j4)("option",{value:e.id},(0,l.zw)(e.name),9,["value"])))),256))],8,["id","onUpdate:modelValue"]),[[l.bM,e.item.speedRunVM.variableValues[a.id]]])])])))),256)),((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(e.item.variables?.filter((a=>!a.isSubCategory&&a.categoryID==e.item.speedRunVM.category.id&&a.levelID==e.item.speedRunVM.level?.id)),((a,t)=>((0,l.wg)(),(0,l.j4)("div",Vt,[(0,l.Wm)("label",Rt,(0,l.zw)(a.name),1),(0,l.Wm)("div",Et,[(0,l.wy)((0,l.Wm)("select",{id:e.drpVariable+t,class:"custom-select form-control",style:{width:"220px"},"onUpdate:modelValue":t=>e.item.speedRunVM.variableValues[a.id]=t},[((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(a.variableValues,(e=>((0,l.wg)(),(0,l.j4)("option",{value:e.id},(0,l.zw)(e.name),9,["value"])))),256))],8,["id","onUpdate:modelValue"]),[[l.bM,e.item.speedRunVM.variableValues[a.id]]])])])))),256)),(0,l.Wm)("div",Ft,[Ut,(0,l.Wm)("div",Pt,[(0,l.Wm)("div",Lt,[(0,l.Wm)("div",zt,[(0,l.Wm)("table",At,[$t,(0,l.Wm)("tbody",null,[(0,l.Wm)("tr",null,[(0,l.Wm)("td",null,[(0,l.wy)((0,l.Wm)("input",{type:"text",name:"primaryTime",class:"form-control time",style:{width:"125px"},"onUpdate:modelValue":a[9]||(a[9]=a=>e.item.speedRunVM.primaryTimeString=a)},null,512),[[l.nr,e.item.speedRunVM.primaryTimeString]])]),(0,l.Wm)("td",null,[(0,l.wy)((0,l.Wm)("input",{type:"text",name:"realTime",class:"form-control time",style:{width:"125px"},"onUpdate:modelValue":a[10]||(a[10]=a=>e.item.speedRunVM.realTimeString=a)},null,512),[[l.nr,e.item.speedRunVM.realTimeString]])])])])])]),(0,l.Wm)("div",Ht,[(0,l.Wm)("table",Yt,[Ot,(0,l.Wm)("tbody",null,[(0,l.Wm)("tr",null,[(0,l.Wm)("td",null,[(0,l.wy)((0,l.Wm)("input",{type:"text",name:"realTime",class:"form-control time",style:{width:"125px"},"onUpdate:modelValue":a[11]||(a[11]=a=>e.item.speedRunVM.realTimeWithoutLoadsString=a)},null,512),[[l.nr,e.item.speedRunVM.realTimeWithoutLoadsString]])]),(0,l.Wm)("td",null,[(0,l.wy)((0,l.Wm)("input",{type:"text",name:"gameTime",class:"form-control time",style:{width:"125px"},"onUpdate:modelValue":a[12]||(a[12]=a=>e.item.speedRunVM.gameTimeString=a)},null,512),[[l.nr,e.item.speedRunVM.gameTimeString]])])])])])])])])]),t.readonly?(0,l.kq)("v-if",!0):((0,l.wg)(),(0,l.j4)("div",Nt,[(0,l.Wm)("div",qt,[(0,l.Wm)("input",{id:"btnSave",type:"button",class:"btn btn-primary",value:"Save",onClick:a[13]||(a[13]=(...e)=>i.save&&i.save(...e))})])]))]))])}},Bt={key:0},Kt=(0,l.Wm)("div",{class:"d-flex"},[(0,l.Wm)("div",{class:"mx-auto"},[(0,l.Wm)("i",{class:"fas fa-spinner fa-spin fa-lg"})])],-1),_t={name:"SpeedRunListVue",props:{categoryid:String,defaulttopamt:Number},data(){return{items:[],loading:!0,throttleTimer:null,throttleDelay:500,topamt:sessionStorage.getItem("topamt")??this.defaulttopamt,offset:sessionStorage.getItem("offset")??null}},created(){this.loadData().then((function(){sessionStorage.scrolltop&&(document.documentElement.scrollTop=sessionStorage.getItem("scrolltop"))})),window.addEventListener("scroll",this.onWindowScroll),window.addEventListener("beforeunload",this.onBeforeUnload)},watch:{categoryid:function(e,a){this.resetParams(),this.loadData()}},methods:{reLoadData:function(){var e=Array.from(document.querySelectorAll(".orderValue")).map((e=>e.value)),a=e.length>0?Math.min.apply(null,e):null;return this.offset=a,this.loadData()},loadData:function(){var e=this;return this.loading=!0,N().get("/SpeedRun/GetLatestSpeedRuns",{params:{category:this.categoryid,topAmount:this.topamt,orderValueOffset:this.offset}}).then((a=>(e.items=e.items.concat(a.data),e.loading=!1,a))).catch((e=>(console.error(e),Promise.reject(e))))},resetParams:function(){this.items=[],this.offset=null,this.topamt=this.defaulttopamt,sessionStorage.removeItem("topamt"),sessionStorage.removeItem("offset"),sessionStorage.removeItem("scrolltop")},onWindowScroll:function(){var e=this;clearTimeout(this.throttleTimer),this.throttleTimer=setTimeout((function(){var a=document.documentElement.scrollTop+window.innerHeight,t=document.documentElement.offsetHeight;(Math.floor(a)>=t||Math.ceil(a)>=t)&&e.reLoadData()}),this.throttleDelay)},onBeforeUnload:function(){sessionStorage.setItem("scrolltop",document.documentElement.scrollTop);var e=Array.from(document.querySelectorAll(".orderValue")).map((e=>e.value))[0];sessionStorage.setItem("offset",parseInt(e)+1),this.items.length>this.topamt&&sessionStorage.setItem("topamt",this.items.length)}},render:function(e,a,t,s,o,i){const r=(0,l.up)("speedrun-summary");return(0,l.wg)(),(0,l.j4)("div",null,[((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(o.items,((e,a)=>((0,l.wg)(),(0,l.j4)(r,{item:e,index:a,key:e.id},null,8,["item","index"])))),128)),o.loading?((0,l.wg)(),(0,l.j4)("div",Bt,[Kt])):(0,l.kq)("v-if",!0)])}},Zt=(0,l.HX)("data-v-6c58c5f2");(0,l.dD)("data-v-6c58c5f2");const Jt={class:"speedRunSummaryContainer container mx-auto p-0",style:{"max-width":"598px","margin-bottom":"20px"}},Qt={class:"speedRunSummary"},Xt={class:"container pt-2 px-2 pb-0 d-flex"},el={class:"p-0 col-1 align-self-center"},al={style:{"max-width":"37px"}},tl={class:"img-round"},ll={class:"col-auto pl-2 pr-0 align-self-end",style:{"max-width":"70%"}},sl={class:"nowrap-elipsis align-self-start",style:{"font-size":"14px"}},ol={class:"align-self-end",style:{"line-height":"12px"}},il={class:"text-secondary"},rl={key:0},nl=(0,l.Uk)(" · "),dl={class:"text-secondary"},cl={class:"col-auto ml-auto p-0 align-self-start"},ml={class:"container px-2 pb-2 pt-1 d-flex"},ul={class:"col-sm-9 p-0 align-self-center",style:{overflow:"hidden"}},pl={class:"text-secondary nowrap-elipsis",style:{"font-size":"14px"}},gl=(0,l.Uk)(" - "),hl={class:"text-secondary nowrap-elipsis",style:{"font-size":"14px"}},vl={class:"py-1"},yl={key:0,class:"badge badge-secondary font-weight-normal mr-1 text-secondary"},wl={key:1,class:"badge badge-secondary font-weight-normal mr-1 text-secondary"},fl={key:2,class:"badge badge-secondary font-weight-normal mr-1 text-secondary"},bl={class:"badge badge-secondary font-weight-normal mr-1 text-secondary"},Wl=(0,l.Wm)("i",{class:"play-icon fa fa-play"},null,-1),kl={key:0,class:"body p-0 embed-responsive embed-responsive-16by9 show-md"},Dl={key:1,class:"body p-0 embed-responsive embed-responsive-16by9 show-sm"},Sl=(0,l.Uk)(" Details ");(0,l.Cn)();const Cl=Zt(((e,a,t,s,o,i)=>{const r=(0,l.up)("speedrun-edit"),n=(0,l.up)("custom-modal");return(0,l.wg)(),(0,l.j4)("div",Jt,[(0,l.Wm)("div",Qt,[(0,l.Wm)("div",Xt,[(0,l.Wm)("div",el,[(0,l.Wm)("div",al,[(0,l.Wm)("div",tl,[(0,l.Wm)("img",{src:t.item.gameCoverImageLink,class:"img-fluid",alt:"Responsive image"},null,8,["src"])])])]),(0,l.Wm)("div",ll,[(0,l.Wm)("div",sl,[(0,l.Wm)("a",{href:"/Game/GameDetails/"+t.item.game.abbr,class:"text-primary"},(0,l.zw)(t.item.game.name),9,["href"])]),(0,l.Wm)("div",ol,[(0,l.Wm)("small",il,(0,l.zw)(t.item.relativeVerifyDateStringShort),1),t.item.viewCountString?((0,l.wg)(),(0,l.j4)("span",rl,[nl,(0,l.Wm)("small",dl,(0,l.zw)(t.item.viewCountString+" views"),1)])):(0,l.kq)("v-if",!0)])]),(0,l.Wm)("div",cl,[(0,l.Wm)("button",{class:"btn btn-secondary detail",onClick:a[1]||(a[1]=e=>o.showModal=!0),style:{"font-size":"12px"}},"Details")])]),(0,l.Wm)("div",ml,[(0,l.Wm)("div",ul,[(0,l.Wm)("div",null,[(0,l.Wm)("div",pl,[(0,l.Wm)("a",{href:"/Game/GameDetails/"+t.item.game.abbr+"?speedRunID="+t.item.speedRunComID,class:"text-primary"},[t.item.rankString?((0,l.wg)(),(0,l.j4)(l.HY,{key:0},[i.getIconClass(t.item.rank)?((0,l.wg)(),(0,l.j4)("i",{key:0,class:["fa fa-trophy pr-1",i.getIconClass(t.item.rank)]},null,2)):(0,l.kq)("v-if",!0),(0,l.Wm)("span",null,(0,l.zw)(t.item.rankString),1),gl],64)):(0,l.kq)("v-if",!0),(0,l.Wm)("small",null,(0,l.zw)(t.item.primaryTimeString),1)],8,["href"])]),(0,l.Wm)("div",hl,[((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(t.item.players,((e,a)=>((0,l.wg)(),(0,l.j4)(l.HY,null,[(0,l.Wm)("a",{href:"/User/UserDetails/"+e.abbr+"?speedRunID="+t.item.speedRunComID,class:"text-primary"},(0,l.zw)(e.name),9,["href"]),(0,l.Uk)(" "+(0,l.zw)(t.item.players.length-1!=a?", ":""),1)],64)))),256))])]),(0,l.Wm)("div",vl,[t.item.categoryType?.name?((0,l.wg)(),(0,l.j4)("span",yl,(0,l.zw)(t.item.categoryType?.name),1)):(0,l.kq)("v-if",!0),t.item.category?.name?((0,l.wg)(),(0,l.j4)("span",wl,(0,l.zw)(t.item.category?.name),1)):(0,l.kq)("v-if",!0),t.item.level?.name?((0,l.wg)(),(0,l.j4)("span",fl,(0,l.zw)(t.item.level?.name),1)):(0,l.kq)("v-if",!0),((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(t.item.subCategoryVariableValueNames,((e,a)=>((0,l.wg)(),(0,l.j4)("span",bl,(0,l.zw)(e),1)))),256))])]),(0,l.Wm)("div",{class:"col-sm-3 ml-auto align-self-center p-0 show-sm image-container",onClick:a[2]||(a[2]=e=>o.showVideoSm=!o.showVideoSm)},[(0,l.Wm)("img",{src:t.item.videoThumbnailLink},null,8,["src"]),Wl])]),i.isMediaMedium?((0,l.wg)(),(0,l.j4)("div",kl,[(0,l.Wm)("iframe",{src:t.item.videoLink,loading:"lazy",frameborder:"0",autoplay:"0",scrolling:"no",width:"100%",height:"auto",allowfullscreen:"true"},null,8,["src"])])):o.showVideoSm?((0,l.wg)(),(0,l.j4)("div",Dl,[(0,l.Wm)("iframe",{src:t.item.videoLink,loading:"lazy",frameborder:"0",autoplay:"0",scrolling:"no",width:"100%",height:"auto",allowfullscreen:"true"},null,8,["src"])])):(0,l.kq)("v-if",!0),(0,l.Wm)("input",{type:"hidden",class:"orderValue",value:t.item.id},null,8,["value"]),o.showModal?((0,l.wg)(),(0,l.j4)(n,{key:2,modelValue:o.showModal,"onUpdate:modelValue":a[3]||(a[3]=e=>o.showModal=e),contentclass:"modal-lg"},{title:Zt((()=>[Sl])),default:Zt((()=>[(0,l.Wm)(r,{gameid:t.item.game.id.toString(),speedrunid:t.item.id.toString(),readonly:!0},null,8,["gameid","speedrunid"])])),_:1},8,["modelValue"])):(0,l.kq)("v-if",!0)])])})),Il={name:"SpeedRunSummaryVue",props:{item:Object,index:Number},data:()=>({showModal:!1,showVideoSm:!1}),computed:{isMediaMedium:function(){return window.innerWidth>768}},methods:{getIconClass:function(e){var a="";switch(e){case 1:a="gold";break;case 2:a="silver";break;case 3:a="bronze"}return a}}};t(2696),Il.render=Cl,Il.__scopeId="data-v-6c58c5f2";const Ml=Il,xl=(0,l.HX)("data-v-8066bae8");(0,l.dD)("data-v-8066bae8");const Tl={class:"mx-auto",style:{"max-width":"598px","margin-bottom":"20px"}},jl={class:"btn-group btn-group-toggle pr-2"};(0,l.Cn)();const Vl=xl(((e,a,t,s,o,i)=>{const r=(0,l.up)("speedrun-list"),n=(0,l.Q2)("tippy");return(0,l.wg)(),(0,l.j4)("div",null,[(0,l.Wm)("div",null,[(0,l.Wm)("div",Tl,[(0,l.Wm)("div",jl,[((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(e.items,((t,s)=>(0,l.wy)(((0,l.wg)(),(0,l.j4)("label",{class:["btn btn-primary btn-sm font-weight-bold category",{active:e.categoryid==t.id}],style:{"font-size":"13px"}},[(0,l.wy)((0,l.Wm)("input",{type:"radio",autocomplete:"off",value:t.id,"onUpdate:modelValue":a[1]||(a[1]=a=>e.categoryid=a),onChange:a[2]||(a[2]=(...e)=>i.onCategoryChange&&i.onCategoryChange(...e))},null,40,["value"]),[[l.G2,e.categoryid]]),(0,l.Wm)("i",{class:i.getIconClass(t.id)},null,2),(0,l.Uk)(" "+(0,l.zw)(t.displayName.replace(/ /g," ")),1)],2)),[[n,t.description]]))),256))])])]),(0,l.Wm)("div",null,[(0,l.Wm)(r,{categoryid:e.categoryid.toString(),defaulttopamt:t.defaulttopamt},null,8,["categoryid","defaulttopamt"])])])})),Rl={name:"SpeedRunListCategoryVue",props:{defaulttopamt:Number},data:function(){return{items:[],categoryid:sessionStorage.getItem("speedrunlistcategoryid")??0}},created(){this.loadData()},methods:{loadData:function(){var e=this;this.loading=!0,N().get("/SpeedRun/GetSpeedRunListCategories").then((a=>(e.items=a.data,e.loading=!1,a))).catch((e=>(console.error(e),Promise.reject(e))))},getIconClass:function(e){var a="";switch(e){case 0:a="fa fa-certificate";break;case 1:a="fa fa-percentage";break;case 2:a="fa fa-award";break;case 3:a="fa fa-cubes";break;case 4:a="fa fa-star";break;case 5:a="fa fa-fire";break;case 7:a="fa fa-gamepad";break;case 8:a="fa fa-lightbulb";break;case 9:a="fa fa-chart-line"}return a+" fa-sm"},onCategoryChange:function(e){Array.from(document.querySelectorAll(".category.active")).forEach((e=>e.classList.remove("active"))),e.target.parentElement.classList.add("active"),sessionStorage.setItem("speedrunlistcategoryid",this.categoryid)}}};t(4230),Rl.render=Vl,Rl.__scopeId="data-v-8066bae8";const El=Rl,Fl={class:"container p-0 mt-4"},Ul={class:"row no-gutters pr-1 pt-1 pb-0 pr-0"},Pl={class:"col tab-list"},Ll={class:"nav nav-pills"},zl={class:"nav-item py-1 pr-1"},Al={class:"nav-item py-1 pr-1"},$l={key:0},Hl={key:1},Yl={name:"GridTabContainerVue",props:{isgame:Boolean,id:String,speedrunid:String},data:()=>({gridID:"0"}),methods:{onTabClick:function(e){var a=e.target.getAttribute("data-value");this.gridID=a}},render:function(e,a,t,s,o,i){const r=(0,l.up)("speedrun-grid-tab"),n=(0,l.up)("worldrecord-grid-tab");return(0,l.wg)(),(0,l.j4)("div",Fl,[(0,l.Wm)("div",Ul,[(0,l.Wm)("div",Pl,[(0,l.Wm)("ul",Ll,[(0,l.Wm)("li",zl,[(0,l.Wm)("a",{class:["nav-link p-2",{active:0==o.gridID}],href:"#/","data-value":"0",onClick:a[1]||(a[1]=(...e)=>i.onTabClick&&i.onTabClick(...e))},(0,l.zw)(t.isgame?"Leaderboards":"Runs"),3)]),(0,l.Wm)("li",Al,[(0,l.Wm)("a",{class:["nav-link p-2",{active:1==o.gridID}],href:"#/","data-value":"1",onClick:a[2]||(a[2]=(...e)=>i.onTabClick&&i.onTabClick(...e))},(0,l.zw)(t.isgame?"World Records":"Personal Bests"),3)])])])]),0==o.gridID?((0,l.wg)(),(0,l.j4)("div",$l,[(0,l.Wm)(r,{isgame:t.isgame,id:t.id,speedrunid:t.speedrunid},null,8,["isgame","id","speedrunid"])])):((0,l.wg)(),(0,l.j4)("div",Hl,[(0,l.Wm)(n,{isgame:t.isgame,id:t.id},null,8,["isgame","id"])]))])}},Ol={key:0},Nl=(0,l.Wm)("div",{class:"d-flex"},[(0,l.Wm)("div",{class:"mx-auto"},[(0,l.Wm)("i",{class:"fas fa-spinner fa-spin fa-lg"})])],-1),ql={key:1,id:"divSpeedRunGridTabContainer"},Gl={key:0,class:"row no-gutters pr-1 pt-1 pb-0"},Bl={class:"col tab-list"},Kl={class:"nav nav-pills"},_l=(0,l.Wm)("span",null,"More...",-1),Zl={key:0},Jl={class:"row no-gutters pr-1 pt-1 pb-0 pr-0"},Ql={class:"col tab-list"},Xl={class:"nav nav-pills"},es=(0,l.Wm)("span",null,"More...",-1),as={key:0},ts={class:"row no-gutters pr-1 pt-1 pb-0 pr-0"},ls={class:"col tab-list"},ss={class:"nav nav-pills"},os=(0,l.Wm)("span",null,"More...",-1),is={key:0},rs={key:0},ns={key:0},ds={key:1},cs={key:0,class:"row no-gutters pr-1 pt-1"},ms=(0,l.Wm)("div",{class:"col-auto"},[(0,l.Wm)("label",{class:"tab-row-name pr-2"},"Hide Empty:")],-1),us={class:"col align-self-center"},ps={class:"custom-control custom-switch"},gs=(0,l.Wm)("label",{class:"custom-control-label",for:"chkHideEmpty"},null,-1),hs={key:1,class:"row no-gutters pr-1 pt-0 float-left",style:{width:"50%"}},vs=(0,l.Wm)("div",{class:"col-auto pr-2"},[(0,l.Wm)("label",{class:"tab-row-name"},"Show All Runs:")],-1),ys={class:"col align-self-center"},ws={class:"custom-control custom-switch"},fs=(0,l.Wm)("label",{class:"custom-control-label",for:"chkShowAllData"},null,-1),bs={class:"row no-gutters pt-0 float-right justify-content-end pt-1",style:{width:"50%"}},Ws={class:"col-auto pr-2 "},ks={class:"col-auto align-self-end"},Ds=(0,l.Wm)("div",{class:"clearfix"},null,-1),Ss={key:1},Cs={class:"row no-gutters pr-1 pt-1 pb-0 pr-0"},Is={class:"col tab-list"},Ms={class:"nav nav-pills"},xs=(0,l.Wm)("span",null,"More...",-1),Ts={key:0},js={key:0},Vs={key:1},Rs={key:0,class:"row no-gutters pr-1 pt-1"},Es=(0,l.Wm)("div",{class:"col-auto"},[(0,l.Wm)("label",{class:"tab-row-name pr-2"},"Hide Empty:")],-1),Fs={class:"col align-self-center"},Us={class:"custom-control custom-switch"},Ps=(0,l.Wm)("label",{class:"custom-control-label",for:"chkHideEmpty"},null,-1),Ls={key:1,class:"row no-gutters pr-1 pt-0 float-left",style:{width:"50%"}},zs=(0,l.Wm)("div",{class:"col-auto pr-2"},[(0,l.Wm)("label",{class:"tab-row-name"},"Show All Runs:")],-1),As={class:"col align-self-center"},$s={class:"custom-control custom-switch"},Hs=(0,l.Wm)("label",{class:"custom-control-label",for:"chkShowAllData"},null,-1),Ys={class:"row no-gutters pt-0 float-right justify-content-end pt-1",style:{width:"50%"}},Os={class:"col-auto pr-2 "},Ns={class:"col-auto align-self-end"},qs=(0,l.Wm)("div",{class:"clearfix"},null,-1),Gs={name:"SpeedRunGridTabVue",props:{isgame:Boolean,id:String,speedrunid:String},data:()=>({items:[],gameID:"",categoryTypeID:"",categoryID:"",levelID:"",subCategoryVariableValueIDs:{},variableIndex:0,hideEmpty:!0,showCharts:!0,showAllData:!1,exportTypeID:"0",exportTypes:[],loading:!0}),computed:{userID:function(){return this.isgame?"":this.id},title:function(){var e=this.items.filter((e=>e.id==this.gameID))[0],a=e.name,t=e.categoryTypes.filter((e=>e.id==this.categoryTypeID))[0]?.name,l=e.categories.filter((e=>e.id==this.categoryID))[0]?.name,s=e.levels?.filter((e=>e.id==this.levelID))[0]?.name;return[a,t,l,s,Object.keys(this.subCategoryVariableValueIDs).map((e=>this.subCategoryVariableValueIDs[e])).join(" - ")].join(" - ").replace(/^[ -]+|[ -]+$/g,"")}},mounted:function(){window.innerWidth>992?this.showCharts=!0:this.showCharts=!1,this.loadData(),window.addEventListener("resize",this.resizeSRTabs)},updated:function(){this.resizeSRTabs()},methods:{loadData(){var e=this;this.loading=!0;var a=this.isgame?"/Game/GetSpeedRunGridTabs?gameID="+this.id+"&speedRunID="+this.speedrunid:"/Game/GetSpeedRunGridTabsForUser?userID="+this.id+"&speedRunID="+this.speedrunid;return N().get(a).then((a=>(e.items=a.data.tabItems,e.exportTypes=a.data.exportTypes,e.gameID=a.data.gameID,e.categoryTypeID=a.data.categoryTypeID,e.categoryID=a.data.categoryID,e.levelID=a.data.levelID,e.subCategoryVariableValueIDs=a.data.subCategoryVariableValueIDs,e.showAllData=a.data.showAllData,e.initSelected(),e.loading=!1,a))).catch((e=>(console.error(e),Promise.reject(e))))},initSelected:function(){var e=this;this.gameID=this.gameID||this.items[0].id;var a=this.items.find((a=>a.id==e.gameID));if(this.categoryTypeID=this.categoryTypeID||a.categoryTypes[0].id,this.categoryID=this.categoryID||a.categories.find((a=>a.categoryTypeID==e.categoryTypeID&&(!e.hideEmpty||a.hasData)))?.id,1==this.categoryTypeID?this.levelID=this.levelID||(a.levels?a.levels.filter((a=>a.categoryID==e.categoryID&&(!e.hideEmpty||a.hasData)))[0]?.id:""):this.levelID="",!this.subCategoryVariableValueIDs){var t;t=0==this.categoryTypeID?a.subCategoryVariablesTabs?.filter((a=>a.categoryID==e.categoryID&&("0"==a.scopeTypeID||"1"==a.scopeTypeID))):a.subCategoryVariablesTabs?.filter((a=>a.categoryID==e.categoryID&&a.levelID==e.levelID&&("0"==a.scopeTypeID||"2"==a.scopeTypeID||"3"==a.scopeTypeID))),this.subCategoryVariableValueIDs={},this.setSubCategoryVariableValueIDs(t,0)}},setSubCategoryVariableValueIDs:function(e,a){var t=this;e?.forEach((e=>{if(!t.subCategoryVariableValueIDs.hasOwnProperty(e.name+a)){var l=e.variableValues.filter((e=>!t.hideEmpty||e.hasData))[0];t.subCategoryVariableValueIDs[e.name+a]=l.name,l.subVariables&&l.subVariables.length>0&&t.setSubCategoryVariableValueIDs(l.subVariables,a+1)}}))},resetSelected:function(){var e=this,a=this.items.find((a=>a.id==e.gameID));0==a.categoryTypes.filter((a=>a.id==e.categoryTypeID)).length&&(this.categoryTypeID=a.categoryTypes[0]?.id),0==a.categories.filter((a=>a.categoryTypeID==e.categoryTypeID&&a.id==e.categoryID&&(!e.hideEmpty||a.hasData))).length&&(this.categoryID=a.categories.filter((a=>a.categoryTypeID==e.categoryTypeID&&(!e.hideEmpty||a.hasData)))[0]?.id),1==this.categoryTypeID?0==a.levels?.filter((a=>a.categoryID==e.categoryID&&a.id==e.levelID&&(!e.hideEmpty||a.hasData))).length&&(this.levelID=a.levels?.filter((a=>a.categoryID==e.categoryID&&(!e.hideEmpty||a.hasData)))[0]?.id):this.levelID="";var t;t=0==this.categoryTypeID?a.subCategoryVariablesTabs?.filter((a=>a.categoryID==e.categoryID&&("0"==a.scopeTypeID||"1"==a.scopeTypeID))):a.subCategoryVariablesTabs?.filter((a=>a.categoryID==e.categoryID&&a.levelID==e.levelID&&("0"==a.scopeTypeID||"2"==a.scopeTypeID||"3"==a.scopeTypeID)));var l={};this.resetSubCategoryVariableValueIDs(t,l,0),this.subCategoryVariableValueIDs=l},resetSubCategoryVariableValueIDs:function(e,a,t){var l=this;e?.forEach((e=>{if(!a.hasOwnProperty(e.name+t)){var s=e.variableValues.filter((e=>Object.keys(l.subCategoryVariableValueIDs).map((e=>l.subCategoryVariableValueIDs[e])).filter((a=>a==e.name)).length>0&&(!l.hideEmpty||e.hasData)))[0]??e.variableValues.filter((e=>!l.hideEmpty||e.hasData))[0];a[e.name+t]=s.name,s.subVariables&&s.subVariables.length>0&&l.resetSubCategoryVariableValueIDs(s.subVariables,a,t+1)}}))},onTabClick:function(e){var a=e.target.getAttribute("data-type"),t=e.target.getAttribute("data-value"),l=e.target.getAttribute("data-variable");switch(e.target.parentElement.classList.contains("dropdown-item"),a){case"game":this.gameID=t;break;case"categoryType":this.categoryTypeID=t;break;case"category":this.categoryID=t;break;case"level":this.levelID=t;break;case"variableValue":this.subCategoryVariableValueIDs[l]=t}this.resetSelected()},onHideEmptyClick:function(e){this.hideEmpty=!this.hideEmpty,this.resetSelected()},onShowAllDataClick:function(e){this.showAllData=!this.showAllData},onShowChartsClick:function(e){this.showCharts=!this.showCharts},onExportTypeChange:function(e){this.exportTypeID=e.target.value},onExportClick:function(e){this.getSpeedRunGrid(this).export(this.exportTypeID)},getSpeedRunGrid:function(e){return e.$refs.speedrungrid||this.getSpeedRunGrid(e.$refs.speedrungridtabvariable)},resizeSRTabs:function(){for(var e=document.querySelectorAll("#divSpeedRunGridTabContainer .tab-list"),a=0;a<e.length;a++){for(var t=0,l=e[a].querySelectorAll("li:not(.dropdown-item)"),s=e[a].querySelector(".more"),o=s.querySelector(".btn"),i=s.querySelectorAll("a.dropdown-item"),r=s.querySelector(".dropdown-menu"),n=0;n<l.length;n++)l[n].style.left="-10000px",l[n].classList.remove("d-none"),(t+=l[n].offsetWidth)>e[a].offsetWidth-100?(l[n].classList.add("d-none"),i[n].classList.remove("d-none")):(l[n].classList.remove("d-none"),i[n].classList.add("d-none"));s.style.display=s.querySelectorAll("a:not(.d-none)").length>0?"block":"none",s.querySelectorAll("a:not(.d-none).active").length>0?o.classList.add("active"):o.classList.remove("active");var d=document.documentElement.clientWidth;this.getPosition(s).x>d/2?(r.classList.remove("dropdown-menu-left"),r.classList.add("dropdown-menu-right")):(r.classList.remove("dropdown-menu-right"),r.classList.add("dropdown-menu-left"))}},getPosition:function(e){for(var a=0,t=0;e;)a+=e.offsetLeft-e.scrollLeft+e.clientLeft,t+=e.offsetTop-e.scrollTop+e.clientTop,e=e.offsetParent;return{x:a,y:t}}},render:function(e,a,t,s,o,i){const r=(0,l.up)("button-dropdown"),n=(0,l.up)("speedrun-grid-tab-variable"),d=(0,l.up)("speedrun-grid");return o.loading?((0,l.wg)(),(0,l.j4)("div",Ol,[Nl])):((0,l.wg)(),(0,l.j4)("div",ql,[t.isgame?(0,l.kq)("v-if",!0):((0,l.wg)(),(0,l.j4)("div",Gl,[(0,l.Wm)("div",Bl,[(0,l.Wm)("ul",Kl,[((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(o.items,((e,t)=>((0,l.wg)(),(0,l.j4)("li",{class:"nav-item py-1 pr-1",key:e.id},[(0,l.Wm)("a",{class:["nav-link p-2",{active:o.gameID==e.id}],href:"#/","data-type":"game","data-value":e.id,"data-toggle":"pill",onClick:a[1]||(a[1]=(...e)=>i.onTabClick&&i.onTabClick(...e))},(0,l.zw)(e.name),11,["data-value"])])))),128)),(0,l.wy)((0,l.Wm)(r,{class:"more py-1 pr-1",btnclasses:"btn-secondary"},{text:(0,l.w5)((()=>[_l])),options:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(o.items,((e,t)=>((0,l.wg)(),(0,l.j4)("a",{key:e.id,class:["dropdown-item d-none",{active:o.gameID==e.id}],href:"#/","data-type":"game","data-value":e.id,onClick:a[2]||(a[2]=(...e)=>i.onTabClick&&i.onTabClick(...e))},(0,l.zw)(e.name),11,["data-value"])))),128))])),_:1},512),[[l.F8,!1]])])])])),((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(o.items,((e,s)=>((0,l.wg)(),(0,l.j4)("div",{key:e.id},[o.gameID==e.id?((0,l.wg)(),(0,l.j4)("div",Zl,[(0,l.Wm)("div",Jl,[(0,l.Wm)("div",Ql,[(0,l.Wm)("ul",Xl,[((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(e.categoryTypes,((e,t)=>((0,l.wg)(),(0,l.j4)("li",{class:"categoryType nav-item py-1 pr-1",key:e.id},[(0,l.Wm)("a",{class:["nav-link p-2",{active:o.categoryTypeID==e.id}],href:"#/","data-type":"categoryType","data-value":e.id,"data-toggle":"pill",onClick:a[3]||(a[3]=(...e)=>i.onTabClick&&i.onTabClick(...e))},(0,l.zw)(e.name),11,["data-value"])])))),128)),(0,l.wy)((0,l.Wm)(r,{class:"more py-1 pr-1",btnclasses:"btn-secondary"},{text:(0,l.w5)((()=>[es])),options:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(e.categoryTypes,((e,t)=>((0,l.wg)(),(0,l.j4)("a",{key:e.id,class:["dropdown-item d-none",{active:o.categoryTypeID==e.id}],href:"#/","data-type":"categoryType","data-value":e.id,"data-toggle":"pill",onClick:a[4]||(a[4]=(...e)=>i.onTabClick&&i.onTabClick(...e))},(0,l.zw)(e.name),11,["data-value"])))),128))])),_:2},1536),[[l.F8,!1]])])])]),((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(e.categoryTypes,((s,c)=>((0,l.wg)(),(0,l.j4)("div",{key:s.id},[o.categoryTypeID==s.id?((0,l.wg)(),(0,l.j4)("div",as,[(0,l.Wm)("div",ts,[(0,l.Wm)("div",ls,[(0,l.Wm)("ul",ss,[((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(e.categories.filter((e=>e.categoryTypeID==s.id&&(!o.hideEmpty||e.hasData))),((e,t)=>((0,l.wg)(),(0,l.j4)("li",{class:"category nav-item py-1 pr-1",key:e.id},[(0,l.Wm)("a",{class:["nav-link p-2",{active:o.categoryID==e.id}],href:"#/","data-type":"category","data-value":e.id,"data-toggle":"pill",onClick:a[5]||(a[5]=(...e)=>i.onTabClick&&i.onTabClick(...e))},(0,l.zw)(e.name),11,["data-value"])])))),128)),(0,l.wy)((0,l.Wm)(r,{class:"more py-1 pr-1",btnclasses:"btn-secondary"},{text:(0,l.w5)((()=>[os])),options:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(e.categories.filter((e=>e.categoryTypeID==s.id&&(!o.hideEmpty||e.hasData))),((e,t)=>((0,l.wg)(),(0,l.j4)("a",{key:e.id,class:["dropdown-item d-none",{active:o.categoryID==e.id}],href:"#/","data-type":"category","data-value":e.id,"data-toggle":"pill",onClick:a[6]||(a[6]=(...e)=>i.onTabClick&&i.onTabClick(...e))},(0,l.zw)(e.name),11,["data-value"])))),128))])),_:2},1536),[[l.F8,!1]])])])]),((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(e.categories.filter((e=>e.categoryTypeID==s.id)),((c,m)=>((0,l.wg)(),(0,l.j4)("div",{key:c.id},[o.categoryID==c.id?((0,l.wg)(),(0,l.j4)("div",is,[0==o.categoryTypeID?((0,l.wg)(),(0,l.j4)("div",rs,[e.subCategoryVariablesTabs?.filter((e=>e.categoryID==c.id&&("0"==e.scopeTypeID||"1"==e.scopeTypeID))).length>0?((0,l.wg)(),(0,l.j4)("div",ns,[(0,l.Wm)(n,{ref:"speedrungridtabvariable",items:e.subCategoryVariablesTabs?.filter((e=>e.categoryID==c.id&&("0"==e.scopeTypeID||"1"==e.scopeTypeID))),gameid:e.id.toString(),categorytypeid:s.id.toString(),categoryid:c.id.toString(),levelid:"",subcategoryvariablevalueids:o.subCategoryVariableValueIDs,speedrunid:t.speedrunid,userid:i.userID,prevdata:"",variableindex:o.variableIndex,hideempty:o.hideEmpty,showcharts:o.showCharts,showalldata:o.showAllData,variables:e.variables,exporttypes:o.exportTypes,title:i.title,onOntabclick:i.onTabClick,onOnhideemptyclick:i.onHideEmptyClick,onOnshowalldataclick:i.onShowAllDataClick,onOnshowchartsclick2:i.onShowChartsClick,onOnexporttypechange:i.onExportTypeChange,onOnexportclick:i.onExportClick},null,8,["items","gameid","categorytypeid","categoryid","subcategoryvariablevalueids","speedrunid","userid","variableindex","hideempty","showcharts","showalldata","variables","exporttypes","title","onOntabclick","onOnhideemptyclick","onOnshowalldataclick","onOnshowchartsclick2","onOnexporttypechange","onOnexportclick"])])):((0,l.wg)(),(0,l.j4)("div",ds,[t.isgame?((0,l.wg)(),(0,l.j4)("div",cs,[ms,(0,l.Wm)("div",us,[(0,l.Wm)("div",ps,[(0,l.wy)((0,l.Wm)("input",{id:"chkHideEmpty",type:"checkbox",class:"custom-control-input","data-toggle":"toggle","onUpdate:modelValue":a[7]||(a[7]=e=>o.hideEmpty=e),onClick:a[8]||(a[8]=(...e)=>i.onHideEmptyClick&&i.onHideEmptyClick(...e))},null,512),[[l.e8,o.hideEmpty]]),gs])])])):(0,l.kq)("v-if",!0),t.isgame?((0,l.wg)(),(0,l.j4)("div",hs,[vs,(0,l.Wm)("div",ys,[(0,l.Wm)("div",ws,[(0,l.wy)((0,l.Wm)("input",{id:"chkShowAllData",type:"checkbox",class:"custom-control-input","data-toggle":"toggle","onUpdate:modelValue":a[9]||(a[9]=e=>o.showAllData=e),onClick:a[10]||(a[10]=(...e)=>i.onShowAllDataClick&&i.onShowAllDataClick(...e))},null,512),[[l.e8,o.showAllData]]),fs])])])):(0,l.kq)("v-if",!0),(0,l.Wm)("div",bs,[(0,l.Wm)("div",Ws,[(0,l.Wm)("input",{id:"btnExport",type:"button",class:"btn btn-primary",value:"Export",onClick:a[11]||(a[11]=(...e)=>i.onExportClick&&i.onExportClick(...e))})]),(0,l.Wm)("div",ks,[(0,l.Wm)("select",{id:"drpExportType",class:"custom-select form-control",onChange:a[12]||(a[12]=(...e)=>i.onExportTypeChange&&i.onExportTypeChange(...e))},[((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(o.exportTypes,(e=>((0,l.wg)(),(0,l.j4)("option",{value:e.id},(0,l.zw)(e.name),9,["value"])))),256))],32)])]),Ds,(0,l.Wm)(d,{ref:"speedrungrid",gameid:e.id.toString(),categorytypeid:s.id.toString(),categoryid:c.id.toString(),levelid:"",variablevalues:"",speedrunid:t.speedrunid,userid:i.userID,showcharts:o.showCharts,showalldata:o.showAllData,variables:e.variables,title:i.title,onOnshowchartsclick1:i.onShowChartsClick},null,8,["gameid","categorytypeid","categoryid","speedrunid","userid","showcharts","showalldata","variables","title","onOnshowchartsclick1"])]))])):((0,l.wg)(),(0,l.j4)("div",Ss,[(0,l.Wm)("div",Cs,[(0,l.Wm)("div",Is,[(0,l.Wm)("ul",Ms,[((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(e.levels.filter((e=>e.categoryID==c.id&&(!o.hideEmpty||e.hasData))),((e,t)=>((0,l.wg)(),(0,l.j4)("li",{class:"level nav-item py-1 pr-1",key:e.id},[(0,l.Wm)("a",{class:["nav-link p-2",{active:o.levelID==e.id}],href:"#/","data-type":"level","data-value":e.id,"data-toggle":"pill",onClick:a[13]||(a[13]=(...e)=>i.onTabClick&&i.onTabClick(...e))},(0,l.zw)(e.name),11,["data-value"])])))),128)),(0,l.wy)((0,l.Wm)(r,{class:"more py-1 pr-1",btnclasses:"btn-secondary"},{text:(0,l.w5)((()=>[xs])),options:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(e.levels.filter((e=>e.categoryID==c.id&&(!o.hideEmpty||e.hasData))),((e,t)=>((0,l.wg)(),(0,l.j4)("a",{key:e.id,class:["dropdown-item d-none",{active:o.levelID==e.id}],href:"#/","data-type":"level","data-value":e.id,"data-toggle":"pill",onClick:a[14]||(a[14]=(...e)=>i.onTabClick&&i.onTabClick(...e))},(0,l.zw)(e.name),11,["data-value"])))),128))])),_:2},1536),[[l.F8,!1]])])])]),((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(e.levels.filter((e=>e.categoryID==c.id)),((r,m)=>((0,l.wg)(),(0,l.j4)("div",{key:r.id},[o.levelID==r.id?((0,l.wg)(),(0,l.j4)("div",Ts,[e.subCategoryVariablesTabs?.filter((e=>e.categoryID==c.id&&e.levelID==r.id&&("0"==e.scopeTypeID||"2"==e.scopeTypeID||"3"==e.scopeTypeID))).length>0?((0,l.wg)(),(0,l.j4)("div",js,[(0,l.Wm)(n,{ref:"speedrungridtabvariable",items:e.subCategoryVariablesTabs?.filter((e=>e.categoryID==c.id&&e.levelID==r.id&&("0"==e.scopeTypeID||"2"==e.scopeTypeID||"3"==e.scopeTypeID))),gameid:e.id.toString(),categorytypeid:s.id.toString(),categoryid:c.id.toString(),levelid:r.id.toString(),subcategoryvariablevalueids:o.subCategoryVariableValueIDs,speedrunid:t.speedrunid,userid:i.userID,prevdata:"",variableindex:o.variableIndex,hideempty:o.hideEmpty,showcharts:o.showCharts,showalldata:o.showAllData,variables:e.variables,exporttypes:o.exportTypes,title:i.title,onOntabclick:i.onTabClick,onOnhideemptyclick:i.onHideEmptyClick,onOnshowalldataclick:i.onShowAllDataClick,onOnshowchartsclick2:i.onShowChartsClick,onOnexporttypechange:i.onExportTypeChange,onOnexportclick:i.onExportClick},null,8,["items","gameid","categorytypeid","categoryid","levelid","subcategoryvariablevalueids","speedrunid","userid","variableindex","hideempty","showcharts","showalldata","variables","exporttypes","title","onOntabclick","onOnhideemptyclick","onOnshowalldataclick","onOnshowchartsclick2","onOnexporttypechange","onOnexportclick"])])):((0,l.wg)(),(0,l.j4)("div",Vs,[t.isgame?((0,l.wg)(),(0,l.j4)("div",Rs,[Es,(0,l.Wm)("div",Fs,[(0,l.Wm)("div",Us,[(0,l.wy)((0,l.Wm)("input",{id:"chkHideEmpty",type:"checkbox",class:"custom-control-input","data-toggle":"toggle","onUpdate:modelValue":a[15]||(a[15]=e=>o.hideEmpty=e),onClick:a[16]||(a[16]=(...e)=>i.onHideEmptyClick&&i.onHideEmptyClick(...e))},null,512),[[l.e8,o.hideEmpty]]),Ps])])])):(0,l.kq)("v-if",!0),t.isgame?((0,l.wg)(),(0,l.j4)("div",Ls,[zs,(0,l.Wm)("div",As,[(0,l.Wm)("div",$s,[(0,l.wy)((0,l.Wm)("input",{id:"chkShowAllData",type:"checkbox",class:"custom-control-input","data-toggle":"toggle","onUpdate:modelValue":a[17]||(a[17]=e=>o.showAllData=e),onClick:a[18]||(a[18]=(...e)=>i.onShowAllDataClick&&i.onShowAllDataClick(...e))},null,512),[[l.e8,o.showAllData]]),Hs])])])):(0,l.kq)("v-if",!0),(0,l.Wm)("div",Ys,[(0,l.Wm)("div",Os,[(0,l.Wm)("input",{id:"btnExport",type:"button",class:"btn btn-primary",value:"Export",onClick:a[19]||(a[19]=(...e)=>i.onExportClick&&i.onExportClick(...e))})]),(0,l.Wm)("div",Ns,[(0,l.Wm)("select",{id:"drpExportType",class:"custom-select form-control",onChange:a[20]||(a[20]=(...e)=>i.onExportTypeChange&&i.onExportTypeChange(...e))},[((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(o.exportTypes,(e=>((0,l.wg)(),(0,l.j4)("option",{value:e.id},(0,l.zw)(e.name),9,["value"])))),256))],32)])]),qs,(0,l.Wm)(d,{ref:"speedrungrid",gameid:e.id.toString(),categorytypeid:s.id.toString(),categoryid:c.id.toString(),levelid:r.id.toString(),variablevalues:"",speedrunid:t.speedrunid,userid:i.userID,showcharts:o.showCharts,showalldata:o.showAllData,variables:e.variables,title:i.title,onOnshowchartsclick1:i.onShowChartsClick},null,8,["gameid","categorytypeid","categoryid","levelid","speedrunid","userid","showcharts","showalldata","variables","title","onOnshowchartsclick1"])]))])):(0,l.kq)("v-if",!0)])))),128))]))])):(0,l.kq)("v-if",!0)])))),128))])):(0,l.kq)("v-if",!0)])))),128))])):(0,l.kq)("v-if",!0)])))),128))]))}},Bs={key:0},Ks={class:"variablerow row no-gutters pr-1 pt-1 pb-0 pr-0"},_s={class:"col tab-list"},Zs={class:"nav nav-pills"},Js=(0,l.Wm)("span",null,"More...",-1),Qs={key:0},Xs={key:1},eo={key:0,class:"row no-gutters pr-1 pt-1"},ao=(0,l.Wm)("div",{class:"col-auto pr-2"},[(0,l.Wm)("label",{class:"tab-row-name"},"Hide Empty:")],-1),to={class:"col align-self-center"},lo={class:"custom-control custom-switch"},so=(0,l.Wm)("label",{class:"custom-control-label",for:"chkHideEmpty"},null,-1),oo={key:1,class:"row no-gutters pr-1 pt-0 float-left",style:{width:"50%"}},io=(0,l.Wm)("div",{class:"col-auto pr-2"},[(0,l.Wm)("label",{class:"tab-row-name"},"Show All Runs:")],-1),ro={class:"col align-self-center"},no={class:"custom-control custom-switch"},co=(0,l.Wm)("label",{class:"custom-control-label",for:"chkShowAllData"},null,-1),mo={class:"row no-gutters pt-0 float-right justify-content-end pt-1",style:{width:"50%"}},uo={class:"col-auto pr-2"},po={class:"col-auto align-self-end"},go=(0,l.Wm)("div",{class:"clearfix"},null,-1),ho={name:"speed-run-grid-tab-variable",emits:["ontabclick","onhideemptyclick","onshowalldataclick","onshowchartsclick2","onexporttypechange","onexportclick"],props:{items:Array,gameid:String,categorytypeid:String,categoryid:String,levelid:String,subcategoryvariablevalueids:Object,speedrunid:String,userid:String,prevdata:String,variableindex:Number,hideempty:Boolean,showalldata:Boolean,showcharts:Boolean,variables:Array,exporttypes:Array,title:String},render:function(e,a,t,s,o,i){const r=(0,l.up)("button-dropdown"),n=(0,l.up)("speed-run-grid-tab-variable"),d=(0,l.up)("speedrun-grid");return(0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(t.items,(s=>((0,l.wg)(),(0,l.j4)("div",{key:s.id},[t.subcategoryvariablevalueids[s.name+t.variableindex]?((0,l.wg)(),(0,l.j4)("div",Bs,[(0,l.Wm)("div",Ks,[(0,l.Wm)("div",_s,[(0,l.Wm)("ul",Zs,[((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(s.variableValues.filter((e=>!t.hideempty||e.hasData)),((o,i)=>((0,l.wg)(),(0,l.j4)("li",{class:"variableValue nav-item py-1 pr-1",key:o.id},[(0,l.Wm)("a",{class:["nav-link p-2",{active:t.subcategoryvariablevalueids[s.name+t.variableindex]==o.name}],href:"#/","data-type":"variableValue","data-variable":s.name+t.variableindex,"data-value":o.name,"data-toggle":"pill",onClick:a[1]||(a[1]=a=>e.$emit("ontabclick",a))},(0,l.zw)(o.name),11,["data-variable","data-value"])])))),128)),(0,l.wy)((0,l.Wm)(r,{class:"more py-1 pr-1",btnclasses:"btn-secondary"},{text:(0,l.w5)((()=>[Js])),options:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(s.variableValues.filter((e=>!t.hideempty||e.hasData)),((o,i)=>((0,l.wg)(),(0,l.j4)("a",{key:o.id,class:["dropdown-item d-none",{active:t.subcategoryvariablevalueids[s.name+t.variableindex]==o.name}],href:"#/","data-type":"variableValue","data-variable":s.name+t.variableindex,"data-value":o.name,"data-toggle":"pill",onClick:a[2]||(a[2]=a=>e.$emit("ontabclick",a))},(0,l.zw)(o.name),11,["data-variable","data-value"])))),128))])),_:2},1536),[[l.F8,!1]])])])]),((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(s.variableValues,((o,i)=>((0,l.wg)(),(0,l.j4)("div",{key:o.id},[o.subVariables&&o.subVariables.length>0&&t.subcategoryvariablevalueids[s.name+t.variableindex]==o.name?((0,l.wg)(),(0,l.j4)("div",Qs,[(0,l.Wm)(n,{ref:"speedrungridtabvariable",items:o.subVariables,gameid:t.gameid,categorytypeid:t.categorytypeid,categoryid:t.categoryid,levelid:t.levelid,subcategoryvariablevalueids:t.subcategoryvariablevalueids,speedrunid:t.speedrunid,userid:t.userid,prevdata:(t.prevdata+","+o.id).replace(/(^,)|(,$)/g,""),variableindex:t.variableindex+1,hideempty:t.hideempty,showalldata:t.showalldata,showcharts:t.showcharts,variables:t.variables,exporttypes:t.exporttypes,title:t.title,onOntabclick:a[3]||(a[3]=a=>e.$emit("ontabclick",a)),onOnhideemptyclick:a[4]||(a[4]=a=>e.$emit("onhideemptyclick",a)),onOnshowalldataclick:a[5]||(a[5]=a=>e.$emit("onshowalldataclick",a)),onOnshowchartsclick2:a[6]||(a[6]=a=>e.$emit("onshowchartsclick2",a)),onOnexporttypechange:a[7]||(a[7]=a=>e.$emit("onexporttypechange",a)),onOnexportclick:a[8]||(a[8]=a=>e.$emit("onexportclick",a))},null,8,["items","gameid","categorytypeid","categoryid","levelid","subcategoryvariablevalueids","speedrunid","userid","prevdata","variableindex","hideempty","showalldata","showcharts","variables","exporttypes","title"])])):t.subcategoryvariablevalueids[s.name+t.variableindex]==o.name?((0,l.wg)(),(0,l.j4)("div",Xs,[t.userid?(0,l.kq)("v-if",!0):((0,l.wg)(),(0,l.j4)("div",eo,[ao,(0,l.Wm)("div",to,[(0,l.Wm)("div",lo,[(0,l.wy)((0,l.Wm)("input",{id:"chkHideEmpty",type:"checkbox",class:"custom-control-input","data-toggle":"toggle","onUpdate:modelValue":a[9]||(a[9]=e=>t.hideempty=e),onClick:a[10]||(a[10]=a=>e.$emit("onhideemptyclick",a))},null,512),[[l.e8,t.hideempty]]),so])])])),t.userid?(0,l.kq)("v-if",!0):((0,l.wg)(),(0,l.j4)("div",oo,[io,(0,l.Wm)("div",ro,[(0,l.Wm)("div",no,[(0,l.wy)((0,l.Wm)("input",{id:"chkShowAllData",type:"checkbox",class:"custom-control-input","data-toggle":"toggle","onUpdate:modelValue":a[11]||(a[11]=e=>t.showalldata=e),onClick:a[12]||(a[12]=a=>e.$emit("onshowalldataclick",a))},null,512),[[l.e8,t.showalldata]]),co])])])),(0,l.Wm)("div",mo,[(0,l.Wm)("div",uo,[(0,l.Wm)("input",{id:"btnExport",type:"button",class:"btn btn-primary",value:"Export",onClick:a[13]||(a[13]=a=>e.$emit("onexportclick",a))})]),(0,l.Wm)("div",po,[(0,l.Wm)("select",{id:"drpExportType",class:"custom-select form-control",onChange:a[14]||(a[14]=a=>e.$emit("onexporttypechange",a))},[((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(t.exporttypes,(e=>((0,l.wg)(),(0,l.j4)("option",{value:e.id},(0,l.zw)(e.name),9,["value"])))),256))],32)])]),go,(0,l.Wm)(d,{ref:"speedrungrid",gameid:t.gameid,categorytypeid:t.categorytypeid,categoryid:t.categoryid,levelid:t.levelid,variablevalues:(t.prevdata+","+o.id).replace(/(^,)|(,$)/g,""),speedrunid:t.speedrunid,userid:t.userid,showcharts:t.showcharts,showalldata:t.showalldata,variables:t.variables,exporttypes:t.exporttypes,title:t.title,onOnshowchartsclick1:a[15]||(a[15]=a=>e.$emit("onshowchartsclick2",a)),onOnexportclick:a[16]||(a[16]=a=>e.$emit("onexportclick",a))},null,8,["gameid","categorytypeid","categoryid","levelid","variablevalues","speedrunid","userid","showcharts","showalldata","variables","exporttypes","title"])])):(0,l.kq)("v-if",!0)])))),128))])):(0,l.kq)("v-if",!0)])))),128)}},vo={key:0},yo=(0,l.Wm)("div",{class:"d-flex"},[(0,l.Wm)("div",{class:"mx-auto"},[(0,l.Wm)("i",{class:"fas fa-spinner fa-spin fa-lg"})])],-1),wo={class:"mt-2 mx-0 grid-container container-lg p-0",style:{"min-height":"150px"}},fo=(0,l.Uk)(" Details ");var bo=t(1368),Wo=(t(5294),t(3861));t(3751);const ko=t(7484),Do={name:"SpeedRunGridVue",emits:["onshowchartsclick1"],props:{gameid:String,categorytypeid:String,categoryid:String,levelid:String,variablevalues:String,speedrunid:String,userid:String,showcharts:Boolean,showalldata:Boolean,variables:Array,title:String},data:()=>({table:{},tableData:[],loading:!0,speedRunID:"",showDetailModal:!1,pageSize:100}),computed:{isMediaMedium:function(){return window.innerWidth>768}},watch:{showalldata:function(e,a){this.loadData()}},mounted:function(){this.loadData(),window.speedRunGridVue=this},methods:{loadData(){var e=this;this.loading=!0,N().get("/SpeedRun/GetSpeedRunGridData",{params:{gameID:this.gameid,categoryID:this.categoryid,levelID:this.levelid,subCategoryVariableValueIDs:this.variablevalues,userID:this.userid,showAllData:this.showalldata}}).then((a=>{if(e.tableData=a.data,e.initGrid(a.data),e.loading=!1,e.speedrunid){var t=e.tableData.findIndex((a=>a.id==e.speedrunid));if(t>-1){e.table.selectRow(e.speedrunid);var l=Math.ceil(t/e.pageSize);l>1&&e.table.setPage(l)}}})).catch((e=>(console.error(e),Promise.reject(e))))},export(e){var a=this.title.replaceAll('[\\\\/:*?"<>|]',"");switch(e){case"0":this.table.download("csv",a+".csv");break;case"1":this.table.download("json",a+".json")}},initGrid(e){var a=this,t=[...new Set(e.flatMap((e=>e.players?.map((e=>e.name)))))].sort(((e,a)=>e?.toLowerCase().localeCompare(a?.toLowerCase()))),l=[{title:"",field:"id",formatter:a.optionsFormatter,hozAlign:"center",headerSort:!1,width:50,widthShrink:2,download:!1},{title:"Rank",field:"rank",sorter:"number",formatter:a.rankFormatter,headerFilter:"select",headerFilterParams:{values:!0,multiselect:!0},headerFilterFunc:a.rankHeaderFilter,width:75},{title:"Players",field:"players",sorter:a.playerSorter,formatter:a.playerFormatter,accessorDownload:a.playerDownloadAccessor,headerFilter:"select",headerFilterParams:{values:t,multiselect:!0},headerFilterFunc:a.playerHeaderFilter,minWidth:135,widthGrow:2},{title:"Time",field:"primaryTime.ticks",formatter:a.primaryTimeFormatter,sorter:"number",width:125,titleDownload:"Time (ticks)"},{title:"primaryTimeString",field:"primaryTimeString",visible:!1,download:!0,titleDownload:"Time"},{title:"Platform",field:"platformName",headerFilter:"select",headerFilterParams:{values:!0,multiselect:!0},headerFilterFunc:"in",minWidth:100,widthGrow:1},{title:"Submitted Date",field:"dateSubmitted",formatter:a.dateFormatter,formatterParams:{outputFormat:"MM/DD/YYYY",tooltipFieldName:"relativeDateSubmittedString"},headerFilter:a.dateEditor,headerFilterFunc:a.dateHeaderFilter,minWidth:150},{title:"Verified Date",field:"verifyDate",formatter:a.dateFormatter,formatterParams:{outputFormat:"MM/DD/YYYY",tooltipFieldName:"relativeVerifyDateString"},headerFilter:a.dateEditor,headerFilterFunc:a.dateHeaderFilter,minWidth:150},{title:"relativeDateSubmittedString",field:"relativeDateSubmittedString",visible:!1},{title:"relativeVerifyDateString",field:"relativeVerifyDateString",visible:!1}];e.forEach((e=>{e.variableValues&&Object.keys(e.variableValues).forEach((t=>{var l=a.variables?.filter((e=>e.id==t))[0];if(l&&!l.isSubCategory){var s=l.variableValues?.filter((a=>a.id==e.variableValues[t]))[0];s&&(e[t]=s.name)}}))}));var s=a.variables?.filter((a=>e.filter((e=>e[a.id])).length>0));s?.forEach((e=>{l.push({title:e.name,field:e.id.toString(),headerFilter:"select",headerFilterParams:{values:!0,multiselect:!0},headerFilterFunc:"in",minWidth:140,widthGrow:1})})),l.push({title:"",field:"comment",formatter:a.commentFormatter,accessorDownload:a.commentDownloadAccessor,hozAlign:"center",headerSort:!1,width:50,widthShrink:2,titleDownload:"Comment"}),this.table=new bo.Z("#tblGrid",{data:e,layout:"fitColumns",reactiveData:!0,selectable:!1,tooltips:!1,tooltipsHeader:!1,pagination:"local",paginationSize:a.pageSize,movableColumns:a.isMediaMedium,resizableColumns:!!a.isMediaMedium&&"header",initialSort:[{column:"primaryTime.ticks",dir:"asc"}],columns:l,renderComplete:function(){Array.from(a.$el.querySelectorAll(".tippy-tooltip")).forEach((e=>{var a=e.getAttribute("data-content"),t=e.closest(".tabulator-cell");(0,Wo.ZP)(t,{content:Z(a),allowHTML:!0,arrow:!1,placement:"bottom"})}))}})},optionsFormatter(e,a,t){var l="<div>";return l+="<div class='d-table' style='border:none; border-collapse:collapse; border-spacing:0; margin:auto;'>",l+="<div class='d-table-row'>",l+="<div class='d-table-cell pl-1 ' style='border:none; padding:0px; width:30px;'>",l+="<a href=\"javascript:window.speedRunGridVue.showSpeedRunDetails('"+e.getValue()+"');\"><i class='fas fa-play-circle fa-lg'></i></a>",l+="</div>",l+="</div>",(l+="</div>")+"</div>"},rankFormatter(e,a,t){var l=e.getValue(),s=parseInt(l);return s?B(s):"-"},playerFormatter(e,a,t){var l=e.getValue(),s=(l?.map((e=>e.name)).join(),"<span>");return l?.forEach((e=>{e.id>0?s+="<a href='/User/UserDetails/"+e.abbr+"' class='text-primary'>"+e.name+"</a><br/>":s+=e.name})),s+="</span>"},playerDownloadAccessor:(e,a,t,l,s)=>e?.map((e=>e.name)).join("\r\n"),primaryTimeFormatter(e,a,t){var l="",s=e.getRow().getCell("primaryTimeString").getValue();return s&&(l+=s),l},primaryTimeDownloadAccessor(e,a,t,l,s){var o="";return(e=cell.getRow().getCell("primaryTimeString").getValue())&&(o+=e),o},dateFormatter(e,a,t){var l=a.tooltipFieldName?e.getRow().getCell(a.tooltipFieldName).getValue():"",s=l?'<span class="tippy-tooltip" data-content="'+Z(l)+'">':"<span>",o=e.getValue(),i=a.outputFormat;return o&&(s+=ko(o).format(i)),s+"</span>"},commentFormatter(e,a,t){var l="",s=e.getValue();return null!=s&&(l='<i class="fas fa-comment tippy-tooltip" data-content="'+s+'"></i>'),l},commentDownloadAccessor:(e,a,t,l,s)=>e??"",dateSorter:(e,a,t,l,s,o,i)=>new Date(e)-new Date(a),playerSorter:(e,a,t,l,s,o,i)=>e[0]?.name.toLowerCase().localeCompare(a[0]?.name.toLowerCase()),dateEditor(e,a,t,l,s){var o=document.createElement("div"),i=document.createElement("input");i.setAttribute("type","date"),i.classList.add("date-filter"),i.addEventListener("change",n),i.addEventListener("blur",n),i.addEventListener("keydown",(function(e){const a=e.key;"Backspace"!==a&&"Delete"!==a||d(e.target)}));var r=document.createElement("button");function n(e){var a="";i.value&&(a=ko(i.value).format("MM/DD/YYYY")),t(a)}function d(e){e.value="",e.dispatchEvent(new Event("change"))}return r.innerHTML="x",r.classList.add("px-1"),r.classList.add("btn-delete-filter"),r.addEventListener("click",(function(e){d(e.target.previousSibling)})),o.appendChild(i),o.appendChild(r),o},rankHeaderFilter:(e,a,t,l)=>0==e.length||e.indexOf(a?.toString())>-1,playerHeaderFilter:(e,a,t,l)=>0==e.length||a?.filter((a=>e.indexOf(a.name)>-1)).length>0,dateHeaderFilter:(e,a,t,l)=>!e||e==ko(a).format("MM/DD/YYYY"),showSpeedRunDetails(e){this.speedRunID=e,this.showDetailModal=!0}},render:function(e,a,t,s,o,i){const r=(0,l.up)("speedrun-grid-chart"),n=(0,l.up)("speedrun-edit"),d=(0,l.up)("custom-modal");return(0,l.wg)(),(0,l.j4)("div",null,[o.loading?((0,l.wg)(),(0,l.j4)("div",vo,[yo])):(0,l.kq)("v-if",!0),(0,l.Wm)("div",wo,[o.loading?(0,l.kq)("v-if",!0):((0,l.wg)(),(0,l.j4)(r,{key:0,isgame:!t.userid,showcharts:t.showcharts,gameid:t.gameid,categorytypeid:t.categorytypeid,categoryid:t.categoryid,levelid:t.levelid,variablevalues:t.variablevalues,userid:t.userid,title:t.title,onOnshowchartsclick:a[1]||(a[1]=a=>e.$emit("onshowchartsclick1",a))},null,8,["isgame","showcharts","gameid","categorytypeid","categoryid","levelid","variablevalues","userid","title"])),(0,l.Wm)("div",{id:"tblGrid",style:[o.loading?{display:"none"}:null]},null,4)]),o.showDetailModal?((0,l.wg)(),(0,l.j4)(d,{key:1,modelValue:o.showDetailModal,"onUpdate:modelValue":a[2]||(a[2]=e=>o.showDetailModal=e),contentclass:"modal-lg"},{title:(0,l.w5)((()=>[fo])),default:(0,l.w5)((()=>[(0,l.Wm)(n,{gameid:t.gameid,speedrunid:o.speedRunID,readonly:!0},null,8,["gameid","speedrunid"])])),_:1},8,["modelValue"])):(0,l.kq)("v-if",!0)])}},So={class:"card",style:{border:"none","border-radius":"0px"}},Co={class:"card-header",id:"headingOne"},Io={class:"mb-0"},Mo={key:0},xo=(0,l.Wm)("i",{class:"fa fa-chevron-down align-self-center"},null,-1),To=(0,l.Wm)("img",{src:"/dist/fonts/bar-chart.svg",class:"img-fluid brand-logo align-self-center mx-2",alt:"Responsive image"},null,-1),jo=(0,l.Uk)("Hide Charts"),Vo={key:1},Ro=(0,l.Wm)("i",{class:"fa fa-chevron-right align-self-center"},null,-1),Eo=(0,l.Wm)("img",{src:"/dist/fonts/bar-chart.svg",class:"img-fluid brand-logo align-self-center mx-2",alt:"Responsive image"},null,-1),Fo=(0,l.Uk)("Show Charts"),Uo={class:"col-sm-4",style:{"min-height":"300px"}},Po={key:0,class:"d-flex",style:{height:"100%"}},Lo=(0,l.Wm)("div",{class:"m-auto"},[(0,l.Wm)("i",{class:"fas fa-spinner fa-spin fa-lg"})],-1),zo={class:"col-sm-4",style:{"min-height":"300px"}},Ao={key:0,class:"d-flex",style:{height:"100%"}},$o=(0,l.Wm)("div",{class:"m-auto"},[(0,l.Wm)("i",{class:"fas fa-spinner fa-spin fa-lg"})],-1),Ho={class:"col-sm-4",style:{"min-height":"300px"}},Yo={key:0,class:"d-flex",style:{height:"100%"}},Oo=(0,l.Wm)("div",{class:"m-auto"},[(0,l.Wm)("i",{class:"fas fa-spinner fa-spin fa-lg"})],-1);var No=t(1102),qo=t(1452),Go=t(1231),Bo=t(1531),Ko=t(72);const _o=t(7484);No.Z.addDep(qo.Z,Go.Z,Bo.Z,Ko.Z);const Zo={name:"SpeedRunGridChartsVue",emits:["onshowchartsclick"],props:{gameid:String,categorytypeid:String,categoryid:String,levelid:String,variablevalues:String,userid:String,isgame:Boolean,showcharts:Boolean,title:String},data:()=>({tabledata:[],loading:!0,gameWorldRecordChart:{},gameSpeedRunsPercentileChart:{},gameTopSpeedRunChart:{}}),computed:{isMediaMedium:function(){return window.innerWidth>768},bgColor:function(){return document.body.classList.contains("theme-dark")?"#303030":"#f8f9fa"},fontColor:function(){return document.body.classList.contains("theme-dark")?"#fff":"#212529"}},mounted:function(){this.loadData()},methods:{loadData(){var e=this;this.loading=!0,N().get("/SpeedRun/GetSpeedRunGridData",{params:{gameID:this.gameid,categoryID:this.categoryid,levelID:this.levelid,subCategoryVariableValueIDs:this.variablevalues,userID:this.userid,showAllData:!0}}).then((a=>{e.tabledata=a.data,e.loadCharts(),e.loading=!1})).catch((e=>(console.error(e),Promise.reject(e))))},loadCharts(){var e=this;No.Z.ready((function(){e.gameWorldRecordChart=new No.Z(e.getWorldRecordPerDayChart("divChart1",e.isgame)),e.gameSpeedRunsPercentileChart=new No.Z(e.getSpeedRunsPercentileChart("divChart2")),e.gameTopSpeedRunChart=new No.Z(e.getTopSpeedRunChart("divChart3",e.isgame)),e.gameWorldRecordChart.render(),e.gameSpeedRunsPercentileChart.render(),e.gameTopSpeedRunChart.render()}))},changeTheme(){this.gameWorldRecordChart.bgColor=this.bgColor,this.gameWorldRecordChart.baseFontColor=this.fontColor,this.gameWorldRecordChart.baseFontColor=this.fontColor,this.gameSpeedRunsPercentileChart.bgColor=this.bgColor,this.gameSpeedRunsPercentileChart.baseFontColor=this.fontColor,this.gameSpeedRunsPercentileChart.baseFontColor=this.fontColor,this.gameTopSpeedRunChart.bgColor=this.bgColor,this.gameTopSpeedRunChart.baseFontColor=this.fontColor,this.gameTopSpeedRunChart.baseFontColor=this.fontColor},getWorldRecordPerDayChart(e,a){var t=this,l=[];if(this.tabledata?.length>0){var s=JSON.parse(JSON.stringify(this.tabledata));s=s.sort(((e,a)=>e?.primaryTimeMilliseconds-a?.primaryTimeMilliseconds));for(var o=[];s.length>0;){var i=s[0];o.push(i),s=s.filter((e=>e.dateSubmitted<i.dateSubmitted)).sort(((e,a)=>e?.primaryTimeMilliseconds-a?.primaryTimeMilliseconds))}a&&(o=o.slice(0,20));var r=o.map((e=>new Date(e.dateSubmitted))),n=_o(Math.max.apply(null,r)).startOf("day").toDate(),d=((e,a,t)=>{var l=[];switch("day".toLowerCase()){case"day":for(;a<=t;)l.push(a),a=q(a).add(1,"day").toDate();break;case"month":for(var s=q([a.getFullYear(),a.getMonth(),1]).toDate(),o=q([t.getFullYear(),t.getMonth(),1]).toDate();s<=o;)l.push(s),s=q(s).add(1,"month").toDate()}return l})(0,_o(Math.min.apply(null,r)).startOf("day").toDate(),n).map((e=>_o(e).format("MM/DD/YYYY"))),c={},m={};if(o.forEach((e=>{var a=_o(e.dateSubmitted).format("MM/DD/YYYY"),t=e.players?.map((e=>e.name)).join("{br}");c[a]=c[a]||[],c[a].push({primaryTimeMilliseconds:e.primaryTimeMilliseconds,primaryTimeString:e.primaryTimeString,playerNames:t})})),Object.keys(c).length>0){for(var u in c){m[u]=m[u]||[];var p=c[u].sort(((e,a)=>e?.primaryTimeMilliseconds-a?.primaryTimeMilliseconds))[0];m[u]={value:p.primaryTimeMilliseconds,tooltext:u+"{br}"+p.playerNames+"{br}"+p.primaryTimeString}}d.forEach((e=>{m.hasOwnProperty(e)||(m[e]={value:null,tooltext:" "})}))}l=Object.entries(m)?.map((e=>({label:e[0],value:e[1]?.value,tooltext:e[1]?.tooltext}))),l.length>0&&(l=l.sort(((e,a)=>{var t=e.label.split("/"),l=a.label.split("/");return new Date(t[2],t[0]-1,t[1])-new Date(l[2],l[0]-1,l[1])})))}return{type:"line",renderAt:e,width:"100%",dataFormat:"json",dataSource:{chart:{caption:a?"World Records (Last 20)":"Personal Bests",captionFontSize:14,subCaption:t.title,subCaptionFontSize:11,xAxis:"Date",yAxis:"Time (Minutes)",canvasPadding:5,labelDisplay:"ROTATE",labelFontSize:11,showLabels:1,rotateLabels:1,slantLabels:1,showToolTip:1,lineThickness:2,anchorRadius:5,anchorBgColor:t.bgColor,anchorBorderThickness:1,exportEnabled:1,showValues:0,formatNumberScale:1,numberOfDecimals:0,numberscalevalue:"1000,60,60",numberscaleunit:"s,m,h",defaultnumberscale:"ms",scalerecursively:"1",maxscalerecursion:"-1",scaleseparator:" ",connectNullData:1,plotBinSize:1.5,setAdaptiveYMin:1,theme:"candy",bgColor:t.bgColor,baseFontColor:t.fontColor,outCnvBaseFontColor:t.fontColor},data:l}}},getSpeedRunsPercentileChart(e){var a=this,t=[];if(this.tabledata?.length>0){for(var l=JSON.parse(JSON.stringify(this.tabledata)).sort(((e,a)=>e?.PrimaryTimeMilliseconds-a?.PrimaryTimeMilliseconds)),s={},o=Math.round(10)+1,i=null,r=null,n=null,d=0,c=0;c<o;c++){var m,u,p,g=0==c?5:i+10,h=Math.ceil((l.length+1)*(g/100));h=h>0?h-1:0;var v=l.filter(((e,a)=>a<=h));if(h>=l.length-1||g>25||c==o-1){v=1==l.length?l:l.filter(((e,a)=>a>d)),p=Math.trunc(v.length/l.length*100)||0,s[u="> "+K("millisecond",n)+" ("+p+"% - "+v.length+"/"+l.length+")"]=v;break}m=l[h].primaryTimeMilliseconds,p=Math.trunc(v.length/l.length*100)||0,u="<= "+K("millisecond",m)+" ("+p+"% - "+v.length+"/"+l.length+")",h!=r&&(s[u]=v),d=v.length-1,i=g,r=h,n=m}t=Object.entries(s).map((e=>({label:e[0],value:e[1].length})))}return{type:"pie2d",renderAt:e,width:"100%",dataFormat:"json",dataSource:{chart:{caption:"Time Percentiles",captionFontSize:14,subCaption:a.title,subCaptionFontSize:11,showValues:1,legendItemFontSize:12,formatNumberScale:0,numberOfDecimals:0,showPercentValues:0,showPercentInTooltip:0,exportEnabled:1,showLegend:1,showLabels:0,theme:"candy",bgColor:a.bgColor,baseFontColor:a.fontColor,outCnvBaseFontColor:a.fontColor},data:t}}},getTopSpeedRunChart(e,a){var t=this,l=[],s=[];if(this.tabledata?.length>0){var o=JSON.parse(JSON.stringify(this.tabledata));a&&(o=o.filter((e=>e.rank)));var i=o.sort(((e,a)=>e?.primaryTimeMilliseconds-a?.primaryTimeMilliseconds)).slice(0,10),r={},n={};i.forEach((e=>{var a=e.players?.map((e=>e.name)).join("{br}");r[a]=e.primaryTimeMilliseconds})),n.category=i.map((e=>{var a={};return a.label=e.players?.map((e=>e.name)).join("{br}"),a})),l.push(n);var d=i.map((e=>({value:e.primaryTimeMilliseconds})));s.push({seriesname:"",data:d})}return{type:"stackedBar2D",renderAt:e,width:"100%",dataFormat:"json",dataSource:{chart:{caption:"Top 10",captionFontSize:14,subCaption:t.title,subCaptionFontSize:11,xAxis:"",yAxis:"Time (Minutes)",labelFontSize:11,labelVAlign:"middle",exportEnabled:1,showValues:1,valueFontSize:11,formatNumberScale:1,numberOfDecimals:0,useRoundEdges:0,numberscalevalue:"1000,60,60",numberscaleunit:"s,m,h",defaultnumberscale:"ms",scalerecursively:"1",maxscalerecursion:"-1",scaleseparator:"",theme:"candy",bgColor:t.bgColor,baseFontColor:t.fontColor,outCnvBaseFontColor:t.fontColor},categories:l,dataset:s}}}},render:function(e,a,t,s,o,i){return(0,l.wg)(),(0,l.j4)("div",So,[(0,l.Wm)("div",Co,[(0,l.Wm)("h5",Io,[t.showcharts?((0,l.wg)(),(0,l.j4)("div",Mo,[(0,l.Wm)("a",{class:"btn btn-link font-weight-bold d-flex align-items-end",style:{"line-height":"15px"},href:"#/",onClick:a[1]||(a[1]=a=>e.$emit("onshowchartsclick",a))},[xo,To,jo])])):((0,l.wg)(),(0,l.j4)("div",Vo,[(0,l.Wm)("a",{class:"btn btn-link font-weight-bold d-flex align-items-end",style:{"line-height":"15px"},href:"#/",onClick:a[2]||(a[2]=a=>e.$emit("onshowchartsclick",a))},[Ro,Eo,Fo])]))])]),(0,l.Wm)("div",{class:"container row chart-container",style:[t.showcharts?null:{display:"none"}]},[(0,l.Wm)("div",Uo,[o.loading?((0,l.wg)(),(0,l.j4)("div",Po,[Lo])):(0,l.kq)("v-if",!0),(0,l.Wm)("div",{id:"divChart1",style:[o.loading?{display:"none"}:null]},null,4)]),(0,l.Wm)("div",zo,[o.loading?((0,l.wg)(),(0,l.j4)("div",Ao,[$o])):(0,l.kq)("v-if",!0),(0,l.Wm)("div",{id:"divChart2",style:[o.loading?{display:"none"}:null]},null,4)]),(0,l.Wm)("div",Ho,[o.loading?((0,l.wg)(),(0,l.j4)("div",Yo,[Oo])):(0,l.kq)("v-if",!0),(0,l.Wm)("div",{id:"divChart3",style:[o.loading?{display:"none"}:null]},null,4)])],4)])}},Jo={key:0},Qo=(0,l.Wm)("div",{class:"d-flex"},[(0,l.Wm)("div",{class:"mx-auto"},[(0,l.Wm)("i",{class:"fas fa-spinner fa-spin fa-lg"})])],-1),Xo={class:"mt-2 mx-0 grid-container container-lg p-0",style:{"min-height":"150px"}},ei=(0,l.Uk)(" Details "),ai=t(7484),ti={name:"WorldRecordGridVue",props:{gameid:String,categorytypeid:String,categoryid:String,levelid:String,variablevalues:String,userid:String,variables:Array},data:()=>({table:{},tableData:[],loading:!0,speedRunID:String,showDetailModal:!1,pageSize:100}),computed:{isMediaMedium:function(){return window.innerWidth>768}},mounted:function(){this.loadData(),window.worldRecordGridVue=this},methods:{loadData(){var e=this;this.loading=!0,N().get("/SpeedRun/GetWorldRecordGridData",{params:{gameID:this.gameid,categoryID:this.categoryid,levelID:this.levelid,userID:this.userid}}).then((a=>{e.tableData=a.data,e.initGrid(a.data),e.loading=!1})).catch((e=>(console.error(e),Promise.reject(e))))},initGrid(e){var a=this,t=[...new Set(e.flatMap((e=>e.players?.map((e=>e.name)))))].sort(((e,a)=>e?.toLowerCase().localeCompare(a?.toLowerCase()))),l=[{title:"",field:"id",formatter:a.optionsFormatter,hozAlign:"center",headerSort:!1,width:50,widthShrink:2},{title:"Rank",field:"rank",sorter:"number",formatter:a.rankFormatter,headerFilter:"select",headerFilterParams:{values:!0,multiselect:!0},headerFilterFunc:a.rankHeaderFilter,width:75},{title:"Players",field:"players",sorter:a.playerSorter,formatter:a.playerFormatter,headerFilter:"select",headerFilterParams:{values:t,multiselect:!0},headerFilterFunc:a.playerHeaderFilter,minWidth:135,widthGrow:1},{title:"Time",field:"primaryTime.ticks",formatter:a.primaryTimeFormatter,sorter:"number",width:125},{title:"primaryTimeString",field:"primaryTimeString",visible:!1},{title:"relativeDateSubmittedString",field:"relativeDateSubmittedString",visible:!1},{title:"relativeVerifyDateString",field:"relativeVerifyDateString",visible:!1}];e.forEach((e=>{e.subCategoryVariableValueIDs&&e.subCategoryVariableValueIDs.split(",").forEach((t=>{var l=a.variables?.filter((e=>e.variableValues.filter((e=>e.id==t)).length>0))[0];if(l&&l.isSubCategory){var s=l.variableValues.filter((e=>e.id==t))[0];s&&(e[l.name]=s.name,e[l.name+"sort"]=s.id)}}))}));var s=a.variables?.filter((a=>e.filter((e=>e[a.name])).length>0)),o=[...new Set(s?.map((e=>e.name)))].map((e=>s.find((a=>a.name===e))));o?.forEach((a=>{var t=a.variableValues.filter((t=>e.filter((e=>e[a.name+"sort"]==t.id)).length>0)).sort(((e,a)=>e?.id-a?.id)),s=[...new Set(t.map((e=>e.name)))];l.push({title:a.name,field:a.name,headerFilter:"select",headerFilterParams:{values:s,multiselect:!0},headerFilterFunc:"in",minWidth:140,widthGrow:1}),l.push({title:a.name+"sort",field:a.name+"sort",visible:!1})})),l.push({title:"Submitted Date",field:"dateSubmitted",formatter:a.dateFormatter,formatterParams:{outputFormat:"MM/DD/YYYY",tooltipFieldName:"relativeDateSubmittedString"},headerFilter:a.dateEditor,headerFilterFunc:a.dateHeaderFilter,minWidth:150}),l.push({title:"",field:"comment",formatter:a.commentFormatter,hozAlign:"center",headerSort:!1,width:50,widthShrink:2});var i=[];o?.slice().reverse().forEach((e=>{i.push({column:e.name+"sort",dir:"asc"})})),this.table=new bo.Z("#tblWorldRecordGrid",{data:e,layout:"fitColumns",tooltips:!1,tooltipsHeader:!1,pagination:"local",paginationSize:a.pageSize,movableColumns:a.isMediaMedium,resizableColumns:!!a.isMediaMedium&&"header",initialSort:i,columns:l,renderComplete:function(){Array.from(a.$el.querySelectorAll(".tippy-tooltip")).forEach((e=>{var a=e.getAttribute("data-content"),t=e.closest(".tabulator-cell");(0,Wo.ZP)(t,{content:Z(a),allowHTML:!0,arrow:!1,placement:"bottom"})}))}})},optionsFormatter(e,a,t){var l="<div>";return l+="<div class='d-table' style='border:none; border-collapse:collapse; border-spacing:0; margin:auto;'>",l+="<div class='d-table-row'>",l+="<div class='d-table-cell pl-1 ' style='border:none; padding:0px; width:30px;'>",l+="<a href=\"javascript:window.worldRecordGridVue.showSpeedRunDetails('"+e.getValue()+"');\"><i class='fas fa-play-circle fa-lg'></i></a>",l+="</div>",l+="</div>",(l+="</div>")+"</div>"},rankFormatter(e,a,t){var l=e.getValue(),s=parseInt(l);return s?B(s):"-"},playerFormatter(e,a,t){var l=e.getValue(),s=(l?.map((e=>e.name)).join(),"<span>");return l?.forEach((e=>{e.id>0?s+="<a href='/User/UserDetails/"+e.abbr+"'>"+e.name+"</a><br/>":s+=e.name})),s+="</span>"},primaryTimeFormatter(e,a,t){var l="",s=e.getRow().getCell("primaryTimeString").getValue();return s&&(l+=s),l},toolTipFormatter(e,a,t){var l=e.getValue(),s="";return l&&(s+='<span class="tippy-tooltip" data-content="'+Z(l)+'">',s+=l,s+="</span>"),s},dateFormatter(e,a,t){var l=a.tooltipFieldName?e.getRow().getCell(a.tooltipFieldName).getValue():"",s=l?'<span class="tippy-tooltip" data-content="'+Z(l)+'">':"<span>",o=e.getValue(),i=a.outputFormat;return o&&(s+=ai(o).format(i)),s+"</span>"},commentFormatter(e,a,t){var l="",s=e.getValue();return null!=s&&(l='<i class="fas fa-comment tippy-tooltip" data-content="'+s+'"></i>'),l},subCategoryVisible(){return this.tableData.filter((e=>e.subCategoryVariableValues)).length>0},dateSorter:(e,a,t,l,s,o,i)=>new Date(e)-new Date(a),playerSorter:(e,a,t,l,s,o,i)=>e[0]?.name.toLowerCase().localeCompare(a[0]?.name.toLowerCase()),dateEditor(e,a,t,l,s){var o=document.createElement("div"),i=document.createElement("input");i.setAttribute("type","date"),i.style.width="90%",i.style.boxSizing="border-box",i.style.fontSize="12px",i.addEventListener("change",n),i.addEventListener("blur",n),i.addEventListener("keydown",(function(e){const a=e.key;"Backspace"!==a&&"Delete"!==a||d(e.target)}));var r=document.createElement("button");function n(e){var a="";i.value&&(a=ai(i.value).format("MM/DD/YYYY")),t(a)}function d(e){e.value="",e.dispatchEvent(new Event("change"))}return r.innerHTML="x",r.classList.add("px-1"),r.style.width="10%;",r.style.border="none",r.style.backgroundColor="#303030",r.style.color="#fff",r.addEventListener("click",(function(e){d(e.target.previousSibling)})),o.appendChild(i),o.appendChild(r),o},rankHeaderFilter:(e,a,t,l)=>0==e.length||e.indexOf(a?.toString())>-1,playerHeaderFilter:(e,a,t,l)=>0==e.length||a?.filter((a=>e.indexOf(a.name)>-1)).length>0,dateHeaderFilter:(e,a,t,l)=>!e||e==ai(a).format("MM/DD/YYYY"),showSpeedRunDetails(e){this.speedRunID=e,this.showDetailModal=!0}},render:function(e,a,t,s,o,i){const r=(0,l.up)("speedrun-edit"),n=(0,l.up)("custom-modal");return(0,l.wg)(),(0,l.j4)("div",null,[o.loading?((0,l.wg)(),(0,l.j4)("div",Jo,[Qo])):(0,l.kq)("v-if",!0),(0,l.Wm)("div",Xo,[(0,l.Wm)("div",{id:"tblWorldRecordGrid",class:"mb-0",style:[o.loading?{display:"none"}:null]},null,4)]),o.showDetailModal?((0,l.wg)(),(0,l.j4)(n,{key:1,modelValue:o.showDetailModal,"onUpdate:modelValue":a[1]||(a[1]=e=>o.showDetailModal=e),contentclass:"modal-lg"},{title:(0,l.w5)((()=>[ei])),default:(0,l.w5)((()=>[(0,l.Wm)(r,{gameid:t.gameid,speedrunid:o.speedRunID,readonly:!0},null,8,["gameid","speedrunid"])])),_:1},8,["modelValue"])):(0,l.kq)("v-if",!0)])}},li={key:0},si=(0,l.Wm)("div",{class:"d-flex"},[(0,l.Wm)("div",{class:"mx-auto"},[(0,l.Wm)("i",{class:"fas fa-spinner fa-spin fa-lg"})])],-1),oi={key:1,id:"divWorldRecorGridTabContainer"},ii={key:0,class:"row no-gutters pr-1 pt-1 pb-0"},ri={class:"col tab-list"},ni={class:"nav nav-pills"},di=(0,l.Wm)("span",null,"More...",-1),ci={key:0},mi={class:"row no-gutters pr-1 pt-1 pb-0 pr-0"},ui={class:"col tab-list"},pi={class:"nav nav-pills"},gi=(0,l.Wm)("span",null,"More...",-1),hi={key:0},vi={class:"row no-gutters pr-1 pt-1 pb-0 pr-0"},yi={class:"col tab-list"},wi={class:"nav nav-pills"},fi=(0,l.Wm)("span",null,"More...",-1),bi={key:0},Wi={key:0},ki={key:1},Di={class:"levelrow row no-gutters pr-1 pt-1 pb-0 pr-0"},Si={class:"col tab-list"},Ci={class:"nav nav-pills"},Ii=(0,l.Wm)("span",null,"More...",-1),Mi={key:0},xi={name:"WorldRecordGridTabVue",props:{isgame:Boolean,id:String},data:()=>({items:[],gameID:"",categoryTypeID:"",categoryID:"",levelID:"",loading:!0}),computed:{userID:function(){return this.isgame?"":this.id}},mounted:function(){this.loadData(),window.addEventListener("resize",this.resizeWRTabs)},updated:function(){this.resizeWRTabs()},methods:{loadData(){var e=this;this.loading=!0;var a=this.isgame?"/Game/GetWorldRecordGridTabs?gameID="+this.id:"/Game/GetWorldRecordGridTabsForUser?userID="+this.id;return N().get(a).then((a=>(e.items=a.data.tabItems,e.initSelected(),e.loading=!1,a))).catch((e=>(console.error(e),Promise.reject(e))))},initSelected:function(){var e=this;this.gameID=this.gameID||this.items[0].id;var a=this.items.find((a=>a.id==e.gameID));this.categoryTypeID=this.categoryTypeID||a.categoryTypes[0].id,this.categoryID=this.categoryID||a.categories.find((a=>a.categoryTypeID==e.categoryTypeID))?.id,1==this.categoryTypeID?this.levelID=this.levelID||(a.levels?a.levels.filter((a=>a.categoryID==e.categoryID))[0]?.id:""):this.levelID=""},resetSelected:function(){var e=this,a=this.items.find((a=>a.id==e.gameID));0==a.categoryTypes.filter((a=>a.id==e.categoryTypeID)).length&&(this.categoryTypeID=a.categoryTypes[0].id),0==a.categories.filter((a=>a.categoryTypeID==e.categoryTypeID&&a.id==e.categoryID)).length&&(this.categoryID=a.categories.filter((a=>a.categoryTypeID==e.categoryTypeID))[0]?.id),1==this.categoryTypeID?0==a.levels.filter((a=>a.categoryID==e.categoryID&&a.id==e.levelID)).length&&(this.levelID=a.levels.filter((a=>a.categoryID==e.categoryID))[0]?.id):this.levelID=""},onTabClick:function(e){var a=e.target.getAttribute("data-type"),t=e.target.getAttribute("data-value");switch(a){case"game":this.gameID=t;break;case"categoryType":this.categoryTypeID=t;break;case"category":this.categoryID=t;break;case"level":this.levelID=t}this.resetSelected()},resizeWRTabs:function(){for(var e=document.querySelectorAll("#divWorldRecorGridTabContainer .tab-list"),a=0;a<e.length;a++){for(var t=0,l=e[a].querySelectorAll("li:not(.dropdown-item)"),s=e[a].querySelector(".more"),o=s.querySelector(".btn"),i=s.querySelectorAll("a.dropdown-item"),r=s.querySelector(".dropdown-menu"),n=0;n<l.length;n++)l[n].style.left="-10000px",l[n].classList.remove("d-none"),(t+=l[n].offsetWidth)>e[a].offsetWidth-100?(l[n].classList.add("d-none"),i[n].classList.remove("d-none")):(l[n].classList.remove("d-none"),i[n].classList.add("d-none"));s.style.display=s.querySelectorAll("a:not(.d-none)").length>0?"block":"none",s.querySelectorAll("a:not(.d-none).active").length>0?o.classList.add("active"):o.classList.remove("active");var d=document.documentElement.clientWidth;this.getPosition(s).x>d/2?(r.classList.remove("dropdown-menu-left"),r.classList.add("dropdown-menu-right")):(r.classList.remove("dropdown-menu-right"),r.classList.add("dropdown-menu-left"))}},getPosition:function(e){for(var a=0,t=0;e;)a+=e.offsetLeft-e.scrollLeft+e.clientLeft,t+=e.offsetTop-e.scrollTop+e.clientTop,e=e.offsetParent;return{x:a,y:t}}},render:function(e,a,t,s,o,i){const r=(0,l.up)("button-dropdown"),n=(0,l.up)("worldrecord-grid");return o.loading?((0,l.wg)(),(0,l.j4)("div",li,[si])):((0,l.wg)(),(0,l.j4)("div",oi,[t.isgame?(0,l.kq)("v-if",!0):((0,l.wg)(),(0,l.j4)("div",ii,[(0,l.Wm)("div",ri,[(0,l.Wm)("ul",ni,[((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(o.items,((e,t)=>((0,l.wg)(),(0,l.j4)("li",{class:"nav-item py-1 pr-1",key:e.id},[(0,l.Wm)("a",{class:["nav-link p-2",{active:o.gameID==e.id}],href:"#/","data-type":"game","data-value":e.id,"data-toggle":"pill",onClick:a[1]||(a[1]=(...e)=>i.onTabClick&&i.onTabClick(...e))},(0,l.zw)(e.name),11,["data-value"])])))),128)),(0,l.wy)((0,l.Wm)(r,{class:"more py-1 pr-1",btnclasses:"btn-secondary"},{text:(0,l.w5)((()=>[di])),options:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(o.items,((e,t)=>((0,l.wg)(),(0,l.j4)("a",{key:e.id,class:["dropdown-item d-none",{active:o.gameID==e.id}],href:"#/","data-type":"game","data-value":e.id,onClick:a[2]||(a[2]=(...e)=>i.onTabClick&&i.onTabClick(...e))},(0,l.zw)(e.name),11,["data-value"])))),128))])),_:1},512),[[l.F8,!1]])])])])),((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(o.items,((e,t)=>((0,l.wg)(),(0,l.j4)("div",{key:e.id},[o.gameID==e.id?((0,l.wg)(),(0,l.j4)("div",ci,[(0,l.Wm)("div",mi,[(0,l.Wm)("div",ui,[(0,l.Wm)("ul",pi,[((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(e.categoryTypes,((e,t)=>((0,l.wg)(),(0,l.j4)("li",{class:"nav-item py-1 pr-1",key:e.id},[(0,l.Wm)("a",{class:["nav-link p-2",{active:o.categoryTypeID==e.id}],href:"#/","data-type":"categoryType","data-value":e.id,"data-toggle":"pill",onClick:a[3]||(a[3]=(...e)=>i.onTabClick&&i.onTabClick(...e))},(0,l.zw)(e.name),11,["data-value"])])))),128)),(0,l.wy)((0,l.Wm)(r,{class:"more py-1 pr-1",btnclasses:"btn-secondary"},{text:(0,l.w5)((()=>[gi])),options:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(e.categoryTypes,((e,t)=>((0,l.wg)(),(0,l.j4)("a",{key:e.id,class:["dropdown-item d-none",{active:o.categoryTypeID==e.id}],href:"#/","data-type":"categoryType","data-value":e.id,"data-toggle":"pill",onClick:a[4]||(a[4]=(...e)=>i.onTabClick&&i.onTabClick(...e))},(0,l.zw)(e.name),11,["data-value"])))),128))])),_:2},1536),[[l.F8,!1]])])])]),((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(e.categoryTypes,((t,s)=>((0,l.wg)(),(0,l.j4)("div",{key:t.id},[o.categoryTypeID==t.id?((0,l.wg)(),(0,l.j4)("div",hi,[(0,l.Wm)("div",vi,[(0,l.Wm)("div",yi,[(0,l.Wm)("ul",wi,[((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(e.categories.filter((e=>e.categoryTypeID==t.id)),((e,t)=>((0,l.wg)(),(0,l.j4)("li",{class:"nav-item py-1 pr-1",key:e.id},[(0,l.Wm)("a",{class:["nav-link p-2",{active:o.categoryID==e.id}],href:"#/","data-type":"category","data-value":e.id,"data-toggle":"pill",onClick:a[5]||(a[5]=(...e)=>i.onTabClick&&i.onTabClick(...e))},(0,l.zw)(e.name),11,["data-value"])])))),128)),(0,l.wy)((0,l.Wm)(r,{class:"more py-1 pr-1",btnclasses:"btn-secondary"},{text:(0,l.w5)((()=>[fi])),options:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(e.categories.filter((e=>e.categoryTypeID==t.id)),((e,t)=>((0,l.wg)(),(0,l.j4)("a",{key:e.id,class:["dropdown-item d-none",{active:o.categoryID==e.id}],href:"#/","data-type":"category","data-value":e.id,"data-toggle":"pill",onClick:a[6]||(a[6]=(...e)=>i.onTabClick&&i.onTabClick(...e))},(0,l.zw)(e.name),11,["data-value"])))),128))])),_:2},1536),[[l.F8,!1]])])])]),((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(e.categories.filter((e=>e.categoryTypeID==t.id)),((s,d)=>((0,l.wg)(),(0,l.j4)("div",{key:s.id},[o.categoryID==s.id?((0,l.wg)(),(0,l.j4)("div",bi,[0==o.categoryTypeID?((0,l.wg)(),(0,l.j4)("div",Wi,[(0,l.Wm)(n,{gameid:e.id.toString(),categorytypeid:t.id.toString(),categoryid:s.id.toString(),levelid:"",userid:i.userID,variables:e.variables},null,8,["gameid","categorytypeid","categoryid","userid","variables"])])):((0,l.wg)(),(0,l.j4)("div",ki,[(0,l.Wm)("div",Di,[(0,l.Wm)("div",Si,[(0,l.Wm)("ul",Ci,[((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(e.levels.filter((e=>e.categoryID==s.id)),((e,t)=>((0,l.wg)(),(0,l.j4)("li",{class:"level nav-item py-1 pr-1",key:e.id},[(0,l.Wm)("a",{class:["nav-link p-2",{active:o.levelID==e.id}],href:"#/","data-type":"level","data-value":e.id,"data-toggle":"pill",onClick:a[7]||(a[7]=(...e)=>i.onTabClick&&i.onTabClick(...e))},(0,l.zw)(e.name),11,["data-value"])])))),128)),(0,l.wy)((0,l.Wm)(r,{class:"more py-1 pr-1",btnclasses:"btn-secondary"},{text:(0,l.w5)((()=>[Ii])),options:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(e.levels.filter((e=>e.categoryID==s.id)),((e,t)=>((0,l.wg)(),(0,l.j4)("a",{key:e.id,class:["dropdown-item d-none",{active:o.levelID==e.id}],href:"#/","data-type":"level","data-value":e.id,"data-toggle":"pill",onClick:a[8]||(a[8]=(...e)=>i.onTabClick&&i.onTabClick(...e))},(0,l.zw)(e.name),11,["data-value"])))),128))])),_:2},1536),[[l.F8,!1]])])])]),((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(e.levels.filter((e=>e.categoryID==s.id)),((a,r)=>((0,l.wg)(),(0,l.j4)("div",{key:a.id},[o.levelID==a.id?((0,l.wg)(),(0,l.j4)("div",Mi,[(0,l.Wm)(n,{gameid:e.id.toString(),categorytypeid:t.id.toString(),categoryid:s.id.toString(),levelid:a.id.toString(),userid:i.userID,variables:e.variables},null,8,["gameid","categorytypeid","categoryid","levelid","userid","variables"])])):(0,l.kq)("v-if",!0)])))),128))]))])):(0,l.kq)("v-if",!0)])))),128))])):(0,l.kq)("v-if",!0)])))),128))])):(0,l.kq)("v-if",!0)])))),128))]))}},Ti={id:"divUserAccount",class:"container p-0"},ji={key:0},Vi=(0,l.Wm)("div",{class:"d-flex"},[(0,l.Wm)("div",{class:"mx-auto"},[(0,l.Wm)("i",{class:"fas fa-spinner fa-spin fa-lg"})])],-1),Ri={key:1},Ei={class:"text-danger small font-weight-bold"},Fi={class:"form-group row no-gutters"},Ui=(0,l.Wm)("label",{class:"col-sm-1 col-form-label"},"Night Mode",-1),Pi={class:"col-sm-auto"},Li={class:"custom-control custom-switch pt-2"},zi=(0,l.Wm)("label",{class:"custom-control-label pl-1",for:"chkNightMode1"},[(0,l.Wm)("span",{class:"pl-2"})],-1),Ai={class:"form-group row no-gutters mb-2"},$i=(0,l.Wm)("label",{class:"col-sm-1 col-form-label"},"Feeds",-1),Hi={class:"col-sm-auto"},Yi={style:{width:"300px"}},Oi=(0,l.Wm)("div",{class:"row no-gutters pt-1",style:{width:"50%"}},[(0,l.Wm)("div",{class:"form-group mx-auto"},[(0,l.Wm)("button",{type:"submit",class:"btn btn-primary"},"Save")])],-1),Ni={name:"UserAccountVue",props:{useraccountid:String},data:()=>({item:{userAccountID:0,username:"",speedRunListCategoryIDs:[],speedRunListCategories:[],isDarkTheme:!1},loading:!1,errorMessages:[]}),created:function(){this.loadData()},methods:{loadData:function(){var e=this;return this.loading=!0,N().get("/UserAccount/GetUserAccount",{params:{userAccountID:this.useraccountid}}).then((a=>(e.item=a.data,e.loading=!1,a))).catch((e=>(console.error(e),Promise.reject(e))))},submitForm:function(){var e=this;this.item.speedRunListCategoryIDs=this.item.speedRunListCategoryIDs.map((e=>e));var a=G(this.item);this.loading=!0,N().post("/UserAccount/SaveUserAccount",a).then((a=>{a.data.success?location.reload():e.errorMessages=a.data.errorMessages})).catch((e=>(console.error(e),Promise.reject(e))))}},render:function(e,a,t,s,o,i){const r=(0,l.up)("vue-next-select"),n=(0,l.Q2)("tippy");return(0,l.wg)(),(0,l.j4)("div",Ti,[o.loading?((0,l.wg)(),(0,l.j4)("div",ji,[Vi])):((0,l.wg)(),(0,l.j4)("div",Ri,[(0,l.Wm)("form",{onSubmit:a[3]||(a[3]=(0,l.iM)(((...e)=>i.submitForm&&i.submitForm(...e)),["prevent"]))},[(0,l.Wm)("div",null,[(0,l.Wm)("ul",null,[((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(o.errorMessages,(e=>((0,l.wg)(),(0,l.j4)("li",Ei,(0,l.zw)(e),1)))),256))])]),(0,l.Wm)("div",Fi,[Ui,(0,l.Wm)("div",Pi,[(0,l.Wm)("div",Li,[(0,l.wy)((0,l.Wm)("input",{id:"chkNightMode1",type:"checkbox",class:"custom-control-input","data-toggle":"toggle","onUpdate:modelValue":a[1]||(a[1]=e=>o.item.isDarkTheme=e)},null,512),[[l.e8,o.item.isDarkTheme]]),zi])])]),(0,l.Wm)("div",Ai,[$i,(0,l.Wm)("div",Hi,[(0,l.Wm)("div",Yi,[(0,l.Wm)(r,{modelValue:o.item.speedRunListCategoryIDs,"onUpdate:modelValue":a[2]||(a[2]=e=>o.item.speedRunListCategoryIDs=e),options:o.item.speedRunListCategories,"label-by":"displayName","value-by":"id",multiple:"",taggable:""},{tag:(0,l.w5)((({option:e,remove:a})=>[(0,l.wy)((0,l.Wm)("span",null,[(0,l.Uk)((0,l.zw)(e.displayName),1)],512),[[n,e.description]]),(0,l.Wm)("img",{onClick:(0,l.iM)(a,["stop"]),src:"data:image/svg+xml;base64,PHN2ZyBpZD0iZGVsZXRlIiBkYXRhLW5hbWU9ImRlbGV0ZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgNTEyIDUxMiI+PHRpdGxlPmRlbGV0ZTwvdGl0bGU+PHBhdGggZD0iTTI1NiwyNEMzODMuOSwyNCw0ODgsMTI4LjEsNDg4LDI1NlMzODMuOSw0ODgsMjU2LDQ4OCwyNC4wNiwzODMuOSwyNC4wNiwyNTYsMTI4LjEsMjQsMjU2LDI0Wk0wLDI1NkMwLDM5Ny4xNiwxMTQuODQsNTEyLDI1Niw1MTJTNTEyLDM5Ny4xNiw1MTIsMjU2LDM5Ny4xNiwwLDI1NiwwLDAsMTE0Ljg0LDAsMjU2WiIgZmlsbD0iIzViNWI1ZiIvPjxwb2x5Z29uIHBvaW50cz0iMzgyIDE3Mi43MiAzMzkuMjkgMTMwLjAxIDI1NiAyMTMuMjkgMTcyLjcyIDEzMC4wMSAxMzAuMDEgMTcyLjcyIDIxMy4yOSAyNTYgMTMwLjAxIDMzOS4yOCAxNzIuNzIgMzgyIDI1NiAyOTguNzEgMzM5LjI5IDM4MS45OSAzODIgMzM5LjI4IDI5OC43MSAyNTYgMzgyIDE3Mi43MiIgZmlsbD0iIzViNWI1ZiIvPjwvc3ZnPg==",alt:"delete tag",class:"icon delete"},null,8,["onClick"])])),_:1},8,["modelValue","options"])])])]),Oi],32)]))])}},qi={key:0},Gi=(0,l.Wm)("div",{class:"d-flex"},[(0,l.Wm)("div",{class:"mx-auto"},[(0,l.Wm)("i",{class:"fas fa-spinner fa-spin fa-lg"})])],-1),Bi={key:1,id:"divImportStatus",class:"container p-0"},Ki={class:"form-group row no-gutters mb-2"},_i=(0,l.Wm)("label",{class:"col-sm-4 col-form-label"},"Last Import",-1),Zi={class:"col-sm-8"},Ji={class:"form-group row no-gutters mb-2"},Qi=(0,l.Wm)("label",{class:"col-sm-4 col-form-label"},"Last Nightly Update",-1),Xi={class:"col-sm-8"},er={class:"form-group row no-gutters mb-2"},ar=(0,l.Wm)("label",{class:"col-sm-4 col-form-label"},"Last Full Import",-1),tr={class:"col-sm-8"},lr={name:"ImportStatusVue",data:function(){return{item:{},loading:!1}},created:function(){this.loadData()},methods:{loadData:function(){var e=this;return this.loading=!0,N().get("/SpeedRun/GetImportStatus").then((a=>(e.item=a.data,e.loading=!1,a))).catch((e=>(console.error(e),Promise.reject(e))))},getFormattedDateString:function(e){return _(e)}},render:function(e,a,t,s,o,i){return(0,l.wg)(),(0,l.j4)("div",null,[e.loading?((0,l.wg)(),(0,l.j4)("div",qi,[Gi])):((0,l.wg)(),(0,l.j4)("div",Bi,[(0,l.Wm)("div",Ki,[_i,(0,l.Wm)("div",Zi,[(0,l.Wm)("input",{type:"datetime-local",disabled:"",class:"form-control",style:{width:"240px"},value:i.getFormattedDateString(e.item.importLastRunDate)},null,8,["value"])])]),(0,l.Wm)("div",Ji,[Qi,(0,l.Wm)("div",Xi,[(0,l.Wm)("input",{type:"datetime-local",disabled:"",class:"form-control",style:{width:"240px"},value:i.getFormattedDateString(e.item.importLastUpdateSpeedRunsDate)},null,8,["value"])])]),(0,l.Wm)("div",er,[ar,(0,l.Wm)("div",tr,[(0,l.Wm)("input",{type:"datetime-local",disabled:"",class:"form-control",style:{width:"240px"},value:i.getFormattedDateString(e.item.importLastBulkReloadDate)},null,8,["value"])])])]))])}},sr={loadComponents(){const e=(0,l.ri)({components:{"speedrun-list-category":El}}).use(s.Jt).use(i.ZP,{defaultProps:{allowHTML:!0}});e.component("button-dropdown",d),e.component("navbar",Q),e.component("vue-next-select",o.Z),e.component("custom-modal",se),e.component("reset-password",we),e.component("change-password",Le),e.component("login",Xe),e.component("signup",pa),e.component("activate",La),e.component("speedrun-edit",Gt),e.component("speedrun-list",_t),e.component("speedrun-summary",Ml),e.component("grid-tab-container",Yl),e.component("speedrun-grid-tab",Gs),e.component("speedrun-grid-tab-variable",ho),e.component("speedrun-grid",Do),e.component("speedrun-grid-chart",Zo),e.component("worldrecord-grid-tab",xi),e.component("worldrecord-grid",ti),e.component("personalbest-grid-tab",xi),e.component("useraccount",Ni),e.component("import-status",lr),e.mount("#vue-app"),e.provide("app","Vue3")}};t(9079),t(2853),t(3512),t(3642),t(6652),t(452),t(7324),sr.loadComponents()},452:e=>{e.exports="./fonts/bar-chart.svg"},7324:e=>{e.exports="./fonts/pie-chart.svg"},9519:()=>{},1066:()=>{},4230:()=>{},2696:()=>{}},t={};function l(e){var s=t[e];if(void 0!==s)return s.exports;var o=t[e]={exports:{}};return a[e].call(o.exports,o,o.exports,l),o.exports}l.m=a,e=[],l.O=(a,t,s,o)=>{if(!t){var i=1/0;for(c=0;c<e.length;c++){for(var[t,s,o]=e[c],r=!0,n=0;n<t.length;n++)(!1&o||i>=o)&&Object.keys(l.O).every((e=>l.O[e](t[n])))?t.splice(n--,1):(r=!1,o<i&&(i=o));if(r){e.splice(c--,1);var d=s();void 0!==d&&(a=d)}}return a}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[t,s,o]},l.n=e=>{var a=e&&e.__esModule?()=>e.default:()=>e;return l.d(a,{a}),a},l.d=(e,a)=>{for(var t in a)l.o(a,t)&&!l.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:a[t]})},l.e=()=>Promise.resolve(),l.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),l.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a),l.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.p="/dist/",(()=>{var e={528:0};l.O.j=a=>0===e[a];var a=(a,t)=>{var s,o,[i,r,n]=t,d=0;for(s in r)l.o(r,s)&&(l.m[s]=r[s]);if(n)var c=n(l);for(a&&a(t);d<i.length;d++)o=i[d],l.o(e,o)&&e[o]&&e[o][0](),e[i[d]]=0;return l.O(c)},t=this.webpackChunkspeed_run_app_ui=this.webpackChunkspeed_run_app_ui||[];t.forEach(a.bind(null,0)),t.push=a.bind(null,t.push.bind(t))})();var s=l.O(void 0,[736],(()=>l(7644)));s=l.O(s)})();